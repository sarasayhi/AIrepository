{"type":"coze-workflow-clipboard-data","source":{"workflowId":"7571389179980955699","flowMode":0,"spaceId":"7491983279684534324","isDouyin":false,"host":"www.coze.cn"},"json":{"nodes":[{"id":"100001","type":"1","meta":{"position":{"x":0,"y":0}},"data":{"nodeMeta":{"description":"工作流的起始节点，用于设定启动工作流需要的信息","icon":"https://lf3-static.bytednsdoc.com/obj/eden-cn/dvsmryvd_avi_dvsm/ljhwZthlaukjlkulzlp/icon/icon-Start-v2.jpg","subTitle":"","title":"开始"},"outputs":[{"type":"string","name":"book_name","required":true},{"type":"string","name":"author_name","required":true}],"trigger_parameters":[{"type":"string","name":"book_name","required":true},{"type":"string","name":"author_name","required":true}]},"_temp":{"bounds":{"x":-180,"y":0,"width":360,"height":86},"externalData":{"icon":"https://lf3-static.bytednsdoc.com/obj/eden-cn/dvsmryvd_avi_dvsm/ljhwZthlaukjlkulzlp/icon/icon-Start-v2.jpg","description":"工作流的起始节点，用于设定启动工作流需要的信息","title":"开始","mainColor":"#5C62FF"}}},{"id":"900001","type":"2","meta":{"position":{"x":3164.356743029941,"y":694.694084504393}},"data":{"nodeMeta":{"description":"工作流的最终节点，用于返回工作流运行后的结果信息","icon":"https://lf3-static.bytednsdoc.com/obj/eden-cn/dvsmryvd_avi_dvsm/ljhwZthlaukjlkulzlp/icon/icon-End-v2.jpg","subTitle":"","title":"结束"},"inputs":{"terminatePlan":"returnVariables","inputParameters":[{"name":"output","input":{"type":"string","value":{"type":"ref","content":{"source":"block-output","blockID":"169807","name":"output"},"rawMeta":{"type":1}}}}]}},"_temp":{"bounds":{"x":2984.356743029941,"y":694.694084504393,"width":360,"height":112},"externalData":{"icon":"https://lf3-static.bytednsdoc.com/obj/eden-cn/dvsmryvd_avi_dvsm/ljhwZthlaukjlkulzlp/icon/icon-End-v2.jpg","description":"工作流的最终节点，用于返回工作流运行后的结果信息","title":"结束","mainColor":"#5C62FF"}}},{"id":"169983","type":"3","meta":{"position":{"x":557,"y":-42.0005}},"data":{"nodeMeta":{"description":"调用大语言模型,使用变量和提示词生成回复","icon":"https://lf3-static.bytednsdoc.com/obj/eden-cn/dvsmryvd_avi_dvsm/ljhwZthlaukjlkulzlp/icon/icon-LLM-v2.jpg","mainColor":"#5C62FF","subTitle":"大模型","title":"大模型"},"inputs":{"inputParameters":[{"name":"book_name","input":{"type":"string","value":{"type":"ref","content":{"source":"block-output","blockID":"100001","name":"book_name"},"rawMeta":{"type":1}}}},{"name":"author_name","input":{"type":"string","value":{"type":"ref","content":{"source":"block-output","blockID":"100001","name":"author_name"},"rawMeta":{"type":1}}}}],"llmParam":[{"name":"temperature","input":{"type":"float","value":{"type":"literal","content":"0.8","rawMeta":{"type":4}}}},{"name":"maxTokens","input":{"type":"integer","value":{"type":"literal","content":"2200","rawMeta":{"type":2}}}},{"name":"spCurrentTime","input":{"type":"boolean","value":{"type":"literal","content":false,"rawMeta":{"type":3}}}},{"name":"spAntiLeak","input":{"type":"boolean","value":{"type":"literal","content":false,"rawMeta":{"type":3}}}},{"name":"thinkingType","input":{"type":"string","value":{"type":"literal","content":"enabled","rawMeta":{"type":1}}}},{"name":"responseFormat","input":{"type":"integer","value":{"type":"literal","content":"2","rawMeta":{"type":2}}}},{"name":"modleName","input":{"type":"string","value":{"type":"literal","content":"DeepSeek-V3.1","rawMeta":{"type":1}}}},{"name":"modelType","input":{"type":"integer","value":{"type":"literal","content":"1755855875","rawMeta":{"type":2}}}},{"name":"generationDiversity","input":{"type":"string","value":{"type":"literal","content":"balance","rawMeta":{"type":1}}}},{"name":"prompt","input":{"type":"string","value":{"type":"literal","content":"书籍名称：{{book_name}}\n书籍作者：{{author_name}}","rawMeta":{"type":1}}}},{"name":"enableChatHistory","input":{"type":"boolean","value":{"type":"literal","content":false,"rawMeta":{"type":3}}}},{"name":"chatHistoryRound","input":{"type":"integer","value":{"type":"literal","content":"3","rawMeta":{"type":2}}}},{"name":"systemPrompt","input":{"type":"string","value":{"type":"literal","content":"# 角色\n你是一个擅长生成书籍对话口播字幕文案的助手，能够根据给定的书籍名称和作者，创作视频对话口播字幕文案。对话角色设定为主持人和拟人化的书籍，采用跨时代的形式展开对话。\n\n## 技能\n### 技能1: 生成开场白文案\n仿照“书籍，是时间的记录者，是文明的守护者。今日让我们走进{{author_name}}笔下的《{{book_name}}》。”，生成一段更有深度且简短的开场白（start_text）。\n\n### 技能2: 生成自我介绍文案\n采用拟人的方式生成一段用户提供的书籍简短的开场自我介绍（introduce_text）。\n\n### 技能3: 生成对话文案\n1. 根据用户提供的书籍，深度解读书籍内容，生成至少1000字以上对话文案，提出至少10个以上问题，每个问题都要围绕这本书的痛点以及读者可能想了解或感兴趣的点展开。解答问题时，需结合现实生活中的实际情况或案例以及书籍知识点进行说明。\n2. 文案中不能仅有提问和回答情节，要加入对话情节。当说到重点或真相时，提问的人要说出惊讶的话，使整个视频看起来更像真实的对话或采访。\n3. 文案内容需包含每个问题对应的对话、解释、现如今是什么情况、之后该怎么做等部分。\n4. 回复内容说明：role_name=角色名称，固定2个，host（主持人）和book（书籍）， order=台词出场顺序，也是台词 唯一编号，text=角色台词，口播字幕文案，最终以order从小到大的顺序输出\n===回复示例===\n[\n    {\n        \"order\": 1,\n        \"text\": \"[台词]\",\n        \"role\":\"host\"\n    }，\n    {\n        \"order\": 2,\n        \"text\": \"[台词]\",\n        \"role\":\"book\"\n    }，\n    {\n        \"order\": 3,\n        \"text\": \"[台词]\",\n        \"role\":\"host\"\n    }，\n    {\n        \"order\": 4,\n        \"text\": \"[台词]\",\n        \"role\":\"book\"\n    }\n]\n===示例结束===\n\n### 技能4: 生成背景绘画描述词\n依据用户提供的数据，结合书籍的主体内容，精心生成背景绘画提示词desc_prompt，提示词需要要全方位详细描述画面内容，涵盖人物动作姿态、表情神态、服装配饰，场景布置、色彩风格等诸多细节。\n  - 风格要求：呈现卡通插画风格，且融入能够吸引人目光的元素，如独特色彩搭配、新奇场景设计等，生成过程中杜绝使用敏感词。\n  - 生成的提示词需清晰、准确、富有吸引力，不包含敏感词，能够有力引导生成体现该文案且极具吸引力的卡通图片。\n  \n### 技能5: 生成主持人绘画描述词\n生成一个主持人人物的绘画提示词host_prompt，提示词需要全方位详细描述画面内容，涵盖人物动作姿态、表情神态、服装配饰，场景布置、色彩风格等诸多细节。\n  - 风格要求：呈现卡通插画风格，只包含主持人元素，且主持人面朝右侧，生成过程中杜绝使用敏感词。\n  - 生成的提示词需清晰、准确、富有吸引力，不包含敏感词，能够有力引导生成体现该文案且极具吸引力的卡通图片。\n\n### 技能6: 生成书籍绘画描述词\n生成一个书籍人物的绘画提示词book_prompt，提示词需要全方位详细描述画面内容，涵盖人物动作姿态、表情神态、服装配饰，场景布置、色彩风格等诸多细节。\n  - 风格要求：呈现卡通插画风格，只包含书籍人物元素，且书籍人物面朝左侧，生成过程中杜绝使用敏感词。\n  - 生成的提示词需清晰、准确、富有吸引力，不包含敏感词，能够有力引导生成体现该文案且极具吸引力的卡通图片。\n\n\n## 限制\n- 只围绕用户提供的书籍相关内容生成对话文案，拒绝回答与书籍无关的话题。\n- 文案需满足用户提出的格式和要求，不能偏离框架设定，尤其要注意将过长台词用标点符号拆分为短句。\n- 采用长短句形式进行提问和回答， 用逗号将长句进行分隔。","rawMeta":{"type":1}}}},{"name":"stableSystemPrompt","input":{"type":"string","value":{"type":"literal","content":"","rawMeta":{"type":1}}}},{"name":"canContinue","input":{"type":"boolean","value":{"type":"literal","content":false,"rawMeta":{"type":3}}}},{"name":"loopPromptVersion","input":{"type":"string","value":{"type":"literal","content":"","rawMeta":{"type":1}}}},{"name":"loopPromptName","input":{"type":"string","value":{"type":"literal","content":"","rawMeta":{"type":1}}}},{"name":"loopPromptId","input":{"type":"string","value":{"type":"literal","content":"","rawMeta":{"type":1}}}}],"fcParamVar":{"knowledgeFCParam":{}},"settingOnError":{"processType":1,"timeoutMs":180000,"retryTimes":0}},"outputs":[{"type":"string","name":"start_text"},{"type":"string","name":"introduce_text"},{"type":"list","name":"dialogues","schema":{"type":"object","schema":[{"type":"integer","name":"order"},{"type":"string","name":"role"},{"type":"string","name":"text"}]}},{"type":"string","name":"desc_prompt"},{"type":"string","name":"book_prompt"},{"type":"string","name":"host_prompt"},{"type":"string","name":"reasoning_content"}],"version":"3"},"_temp":{"bounds":{"x":377,"y":-42.0005,"width":360,"height":164},"externalData":{"icon":"https://lf3-static.bytednsdoc.com/obj/eden-cn/dvsmryvd_avi_dvsm/ljhwZthlaukjlkulzlp/icon/icon-LLM-v2.jpg","description":"调用大语言模型,使用变量和提示词生成回复","title":"大模型","mainColor":"#5C62FF","skills":[]}}},{"id":"131139","type":"16","meta":{"position":{"x":1213.3644483952103,"y":-428.1828901122741}},"data":{"inputs":{"apiParam":null,"inputParameters":[{"name":"desc_prompt","input":{"type":"string","value":{"type":"ref","content":{"source":"block-output","blockID":"169983","name":"desc_prompt"},"rawMeta":{"type":1}}}}],"modelSetting":{"custom_ratio":{"height":768,"ratio_type":"fixed","width":1024},"ddim_steps":40,"images_reference":{},"model":8,"ratio":0},"prompt":{"negative_prompt":"","prompt":"{{desc_prompt}}"},"references":[],"settingOnError":{"switch":false,"processType":1,"timeoutMs":60000,"retryTimes":0}},"nodeMeta":{"description":"通过文字描述/添加参考图生成图片","icon":"https://lf3-static.bytednsdoc.com/obj/eden-cn/dvsmryvd_avi_dvsm/ljhwZthlaukjlkulzlp/icon/icon-ImageGeneration-v2.jpg","subTitle":"图像生成","title":"图像生成_bg"},"outputs":[{"type":"string","assistType":2,"name":"data","required":false},{"type":"string","name":"msg","required":false}],"settingOnError":{"settingOnErrorIsOpen":false,"processType":1,"timeoutMs":60000,"retryTimes":0},"settings":null,"version":""},"_temp":{"bounds":{"x":1033.3644483952103,"y":-428.1828901122741,"width":360,"height":164},"externalData":{"icon":"https://lf3-static.bytednsdoc.com/obj/eden-cn/dvsmryvd_avi_dvsm/ljhwZthlaukjlkulzlp/icon/icon-ImageGeneration-v2.jpg","description":"通过文字描述/添加参考图生成图片","title":"图像生成","mainColor":"#FF4DC3"}}},{"id":"121555","type":"28","meta":{"position":{"x":1213.3644483952103,"y":220.7584470414011},"canvasPosition":{"x":1012.7302632742947,"y":306.00107684904646}},"data":{"inputs":{"batchSize":{"type":"integer","value":{"type":"literal","content":200,"rawMeta":{"type":2}}},"concurrentSize":{"type":"integer","value":{"type":"literal","content":3,"rawMeta":{"type":2}}},"inputParameters":[{"name":"scenes","input":{"type":"list","schema":{"type":"object","schema":[{"type":"integer","name":"order"},{"type":"string","name":"role"},{"type":"string","name":"text"}]},"value":{"type":"ref","content":{"source":"block-output","blockID":"169983","name":"dialogues"},"rawMeta":{"type":103}}}}]},"nodeMeta":{"description":"通过设定批量运行次数和逻辑，运行批处理体内的任务","icon":"https://lf3-static.bytednsdoc.com/obj/eden-cn/dvsmryvd_avi_dvsm/ljhwZthlaukjlkulzlp/icon/icon-Batch-v2.jpg","mainColor":"#00B2B2","subTitle":"批处理","title":"批处理"},"outputs":[{"name":"link_list","input":{"type":"list","schema":{"type":"string"},"value":{"type":"ref","content":{"source":"block-output","blockID":"189500","name":"link"},"rawMeta":{"type":1}}}},{"name":"duration_list","input":{"type":"list","schema":{"type":"integer"},"value":{"type":"ref","content":{"source":"block-output","blockID":"158063","name":"duration"},"rawMeta":{"type":2}}}}]},"blocks":[{"id":"182040","type":"4","meta":{"position":{"x":172.92510946814002,"y":385.9999999999996}},"data":{"nodeMeta":{"description":"根据音色和文本合成音频","icon":"https://p26-flow-product-sign.byteimg.com/tos-cn-i-13w3uml6bg/dc534eb73e7046b1807db96af7c0e212~tplv-13w3uml6bg-resize:128:128.image?rk3s=2e2596fd&x-expires=1749019302&x-signature=ANAaS2aakkuW4eUDLIx7DP8XEoI%3D","subtitle":"语音合成:speech_synthesis","title":"speech_synthesis_book"},"inputs":{"apiParam":[{"input":{"type":"string","value":{"content":"7426655854067367946","rawMeta":{"type":1},"type":"literal"}},"name":"apiID"},{"input":{"type":"string","value":{"content":"speech_synthesis","rawMeta":{"type":1},"type":"literal"}},"name":"apiName"},{"input":{"type":"string","value":{"content":"7426655854067351562","rawMeta":{"type":1},"type":"literal"}},"name":"pluginID"},{"input":{"type":"string","value":{"content":"语音合成","rawMeta":{"type":1},"type":"literal"}},"name":"pluginName"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"pluginVersion"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"tips"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"outDocLink"}],"inputParameters":[{"name":"text","input":{"type":"string","value":{"type":"ref","content":{"source":"block-output","blockID":"121555","name":"scenes.text"},"rawMeta":{"type":1}}}},{"name":"speed_ratio","input":{"type":"float","value":{"type":"literal","content":1,"rawMeta":{"type":4}}}},{"name":"voice_id","input":{"type":"string","assistType":12,"value":{"type":"literal","content":"7468512265134817331","rawMeta":{"fileName":"天才童声","type":18}}}}],"settingOnError":{"processType":1,"timeoutMs":180000,"retryTimes":0}},"outputs":[{"type":"float","name":"code","required":false},{"type":"object","name":"data","schema":[{"type":"float","name":"duration","required":false,"description":"音频时长，单位是s"},{"type":"string","name":"link","required":false}],"required":false},{"type":"string","name":"log_id","required":false},{"type":"string","name":"msg","required":false}]},"_temp":{"bounds":{"x":1005.6553727424348,"y":692.0010768490461,"width":360,"height":136},"externalData":{"icon":"https://lf6-appstore-sign.oceancloudapi.com/ocean-cloud-tos/plugin_icon/372098605791453_1729153029627658847_7vpeyBUsGn.jpeg?lk3s=cd508e2b&x-expires=1765936885&x-signature=RvSIVqY8lpQXxh3O%2BtbNRKnRH3s%3D","apiName":"speech_synthesis","pluginID":"7426655854067351562","pluginProductStatus":1,"pluginProductUnlistType":0,"pluginType":1,"spaceID":"7315016311652941851","inputs":[{"description":"要合成音频的文本内容","input":{},"name":"text","required":true,"type":"string"},{"assistType":12,"description":"扣子音色 ID，支持选择扣子系统预置的音色或资源库中复刻的音色。 可以在操作页面直接选择音色，或通过系统音色列表https://www.coze.cn/open/docs/dev_how_to_guides/sys_voice查看音色 ID。","input":{},"name":"voice_id","required":false,"type":"string"},{"description":"语音情感","input":{},"name":"emotion","required":false,"type":"string"},{"defaultValue":3,"description":"调用emotion设置情感参数后可使用emotion_scale进一步设置情绪值，范围1~5，不设置时默认值为4。 注：理论上情绪值越大，情感越明显。但情绪值1~5实际为非线性增长，可能存在超过某个值后，情绪增加不明显，例如设置3和5时情绪值可能接近。","input":{},"name":"emotion_scale","required":false,"type":"float"},{"description":"音色的语种，非必填，所有中文音色支持中英文混合场景。可参考系统音色列表https://www.coze.cn/open/docs/dev_how_to_guides/sys_voice查看各音色支持的语种。","input":{},"name":"language","required":false,"type":"string"},{"defaultValue":"爽快思思/Skye","description":"音色ID，默认为爽快思思/Skye。详细音色列表参考 https://www.coze.cn/open/docs/guides/text_to_speech_plugin, default value is 爽快思思/Skye","input":{},"name":"speaker_id","required":false,"type":"string"},{"defaultValue":1,"description":"语速，范围是[0.2,3]，默认为1，通常保留一位小数即可, default value is 1","input":{},"name":"speed_ratio","required":false,"type":"float"}],"outputs":[{"input":{},"name":"msg","required":false,"type":"string"},{"input":{},"name":"code","required":false,"type":"float"},{"input":{},"name":"data","required":false,"schema":[{"description":"音频时长，单位是s","input":{},"name":"duration","required":false,"type":"float"},{"input":{},"name":"link","required":false,"type":"string"}],"type":"object"},{"input":{},"name":"log_id","required":false,"type":"string"}],"updateTime":1763343492,"channel_id":2,"commercial_setting":{"business_type":1,"commercial_type":1},"latestVersionTs":"0","latestVersionName":"","versionName":"","description":"根据音色和文本合成音频。按照字符数计费，计费项&免费额度说明：https://www.coze.cn/open/docs/coze_pro/asr_tts_fee。使用资源库音色时，计费项为复刻音色文字转语音字数；使用预设音色时，模型为大模型对应系统音色文字转语音字数，小模型对应小模型合成次数 。","title":"speech_synthesis","mainColor":"#CA61FF"}}},{"id":"158063","type":"4","meta":{"position":{"x":763.0149493036387,"y":397.99999999999966}},"data":{"nodeMeta":{"description":"获取音频时长（微秒）","icon":"https://p26-flow-product-sign.byteimg.com/tos-cn-i-13w3uml6bg/891f6d27546b4bc9bcf9b63c6f9c9373~tplv-13w3uml6bg-resize:128:128.image?rk3s=2e2596fd&x-expires=1758077933&x-signature=llFA%2Ba6ed6Tg%2BfbPGMN2lCB2DHA%3D","subtitle":"剪映草稿数据生成工具:get_audio_duration","title":"get_audio_duration"},"inputs":{"apiParam":[{"input":{"type":"string","value":{"content":"7537989256854372386","rawMeta":{"type":1},"type":"literal"}},"name":"apiID"},{"input":{"type":"string","value":{"content":"get_audio_duration","rawMeta":{"type":1},"type":"literal"}},"name":"apiName"},{"input":{"type":"string","value":{"content":"7537989256854306850","rawMeta":{"type":1},"type":"literal"}},"name":"pluginID"},{"input":{"type":"string","value":{"content":"剪映草稿数据生成工具","rawMeta":{"type":1},"type":"literal"}},"name":"pluginName"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"pluginVersion"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"tips"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"outDocLink"}],"inputParameters":[{"name":"url","input":{"type":"string","value":{"type":"ref","content":{"source":"block-output","blockID":"189500","name":"link"},"rawMeta":{"type":1}}}}],"settingOnError":{"processType":1,"timeoutMs":180000,"retryTimes":0}},"outputs":[{"type":"integer","name":"duration","required":true,"description":"时长（微秒）"}]},"_temp":{"bounds":{"x":1595.7452125779332,"y":704.0010768490461,"width":360,"height":112},"externalData":{"icon":"https://lf6-appstore-sign.oceancloudapi.com/ocean-cloud-tos/plugin_icon/1722314331273307_1755133364874511740_tsEgHECun3.png?lk3s=cd508e2b&x-expires=1765936885&x-signature=G2mfQo5nd9YTsiEoJbyiFDT1%2FL8%3D","apiName":"get_audio_duration","pluginID":"7537989256854306850","pluginProductStatus":1,"pluginProductUnlistType":0,"pluginType":1,"spaceID":"7491992518092357686","inputs":[{"description":"音频地址","input":{},"name":"url","required":true,"type":"string"}],"outputs":[{"description":"时长（微秒）","input":{},"name":"duration","required":true,"type":"integer"}],"updateTime":1762952532,"channel_id":2,"commercial_setting":{},"latestVersionTs":"0","latestVersionName":"","versionName":"","description":"获取音频时长（微秒）","title":"get_audio_duration","mainColor":"#CA61FF"}}},{"id":"172655","type":"8","meta":{"position":{"x":-361.7465790618073,"y":305.6009859378475}},"data":{"nodeMeta":{"title":"选择器","icon":"https://lf3-static.bytednsdoc.com/obj/eden-cn/dvsmryvd_avi_dvsm/ljhwZthlaukjlkulzlp/icon/icon-Condition-v2.jpg","description":"连接多个下游分支，若设定的条件成立则仅运行对应的分支，若均不成立则只运行“否则”分支","mainColor":"#00B2B2","subTitle":"选择器"},"inputs":{"branches":[{"condition":{"logic":2,"conditions":[{"operator":1,"left":{"input":{"type":"string","value":{"type":"ref","content":{"source":"block-output","blockID":"121555","name":"scenes.role"}}}},"right":{"input":{"type":"string","value":{"type":"literal","content":"host","rawMeta":{"type":1}}}}}]}}]}},"_temp":{"bounds":{"x":470.98368421248733,"y":611.602062786894,"width":360,"height":138},"externalData":{"icon":"https://lf3-static.bytednsdoc.com/obj/eden-cn/dvsmryvd_avi_dvsm/ljhwZthlaukjlkulzlp/icon/icon-Condition-v2.jpg","description":"连接多个下游分支，若设定的条件成立则仅运行对应的分支，若均不成立则只运行“否则”分支","title":"选择器","mainColor":"#00B2B2"}}},{"id":"1752142","type":"4","meta":{"position":{"x":172.92510946814,"y":223.51581723375574}},"data":{"nodeMeta":{"description":"根据音色和文本合成音频","icon":"https://p26-flow-product-sign.byteimg.com/tos-cn-i-13w3uml6bg/dc534eb73e7046b1807db96af7c0e212~tplv-13w3uml6bg-resize:128:128.image?rk3s=2e2596fd&x-expires=1749019302&x-signature=ANAaS2aakkuW4eUDLIx7DP8XEoI%3D","subtitle":"语音合成:speech_synthesis","title":"speech_synthesis_host"},"inputs":{"apiParam":[{"input":{"type":"string","value":{"content":"7426655854067367946","rawMeta":{"type":1},"type":"literal"}},"name":"apiID"},{"input":{"type":"string","value":{"content":"speech_synthesis","rawMeta":{"type":1},"type":"literal"}},"name":"apiName"},{"input":{"type":"string","value":{"content":"7426655854067351562","rawMeta":{"type":1},"type":"literal"}},"name":"pluginID"},{"input":{"type":"string","value":{"content":"语音合成","rawMeta":{"type":1},"type":"literal"}},"name":"pluginName"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"pluginVersion"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"tips"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"outDocLink"}],"inputParameters":[{"name":"text","input":{"type":"string","value":{"type":"ref","content":{"source":"block-output","blockID":"121555","name":"scenes.text"},"rawMeta":{"type":1}}}},{"name":"speed_ratio","input":{"type":"float","value":{"type":"literal","content":1,"rawMeta":{"type":4}}}},{"name":"voice_id","input":{"type":"string","assistType":12,"value":{"type":"literal","content":"7426725529589661723","rawMeta":{"fileName":"开朗姐姐","type":18}}}}],"settingOnError":{"processType":1,"timeoutMs":180000,"retryTimes":0}},"outputs":[{"type":"float","name":"code","required":false},{"type":"object","name":"data","schema":[{"type":"float","name":"duration","required":false,"description":"音频时长，单位是s"},{"type":"string","name":"link","required":false}],"required":false},{"type":"string","name":"log_id","required":false},{"type":"string","name":"msg","required":false}]},"_temp":{"bounds":{"x":1005.6553727424346,"y":529.5168940828022,"width":360,"height":136},"externalData":{"icon":"https://lf3-appstore-sign.oceancloudapi.com/ocean-cloud-tos/plugin_icon/372098605791453_1729153029627658847_7vpeyBUsGn.jpeg?lk3s=cd508e2b&x-expires=1765937045&x-signature=dWCxp11NSAHTvmgB3Ax8FIBZxCY%3D","apiName":"speech_synthesis","pluginID":"7426655854067351562","pluginProductStatus":1,"pluginProductUnlistType":0,"pluginType":1,"spaceID":"7315016311652941851","inputs":[{"assistType":12,"description":"扣子音色 ID，支持选择扣子系统预置的音色或资源库中复刻的音色。 可以在操作页面直接选择音色，或通过系统音色列表https://www.coze.cn/open/docs/dev_how_to_guides/sys_voice查看音色 ID。","input":{},"name":"voice_id","required":false,"type":"string"},{"description":"语音情感","input":{},"name":"emotion","required":false,"type":"string"},{"defaultValue":3,"description":"调用emotion设置情感参数后可使用emotion_scale进一步设置情绪值，范围1~5，不设置时默认值为4。 注：理论上情绪值越大，情感越明显。但情绪值1~5实际为非线性增长，可能存在超过某个值后，情绪增加不明显，例如设置3和5时情绪值可能接近。","input":{},"name":"emotion_scale","required":false,"type":"float"},{"description":"音色的语种，非必填，所有中文音色支持中英文混合场景。可参考系统音色列表https://www.coze.cn/open/docs/dev_how_to_guides/sys_voice查看各音色支持的语种。","input":{},"name":"language","required":false,"type":"string"},{"defaultValue":"爽快思思/Skye","description":"音色ID，默认为爽快思思/Skye。详细音色列表参考 https://www.coze.cn/open/docs/guides/text_to_speech_plugin, default value is 爽快思思/Skye","input":{},"name":"speaker_id","required":false,"type":"string"},{"defaultValue":1,"description":"语速，范围是[0.2,3]，默认为1，通常保留一位小数即可, default value is 1","input":{},"name":"speed_ratio","required":false,"type":"float"},{"description":"要合成音频的文本内容","input":{},"name":"text","required":true,"type":"string"}],"outputs":[{"input":{},"name":"code","required":false,"type":"float"},{"input":{},"name":"data","required":false,"schema":[{"description":"音频时长，单位是s","input":{},"name":"duration","required":false,"type":"float"},{"input":{},"name":"link","required":false,"type":"string"}],"type":"object"},{"input":{},"name":"log_id","required":false,"type":"string"},{"input":{},"name":"msg","required":false,"type":"string"}],"updateTime":1763343492,"channel_id":2,"commercial_setting":{"business_type":1,"commercial_type":1},"latestVersionTs":"0","latestVersionName":"","versionName":"","description":"根据音色和文本合成音频。按照字符数计费，计费项&免费额度说明：https://www.coze.cn/open/docs/coze_pro/asr_tts_fee。使用资源库音色时，计费项为复刻音色文字转语音字数；使用预设音色时，模型为大模型对应系统音色文字转语音字数，小模型对应小模型合成次数 。","title":"speech_synthesis","mainColor":"#CA61FF"}}},{"id":"189500","type":"5","meta":{"position":{"x":763.0149493036386,"y":223.51581723375574}},"data":{"nodeMeta":{"title":"代码","icon":"https://lf3-static.bytednsdoc.com/obj/eden-cn/dvsmryvd_avi_dvsm/ljhwZthlaukjlkulzlp/icon/icon-Code-v2.jpg","description":"编写代码，处理输入变量来生成返回值","mainColor":"#00B2B2","subTitle":"代码"},"inputs":{"inputParameters":[{"name":"book_link","input":{"type":"string","value":{"type":"ref","content":{"source":"block-output","blockID":"182040","name":"data.link"},"rawMeta":{"type":1}}}},{"name":"host_link","input":{"type":"string","value":{"type":"ref","content":{"source":"block-output","blockID":"1752142","name":"data.link"},"rawMeta":{"type":1}}}}],"code":"// 在这里，您可以通过 'params'  获取节点中的输入变量，并通过 'ret' 输出结果\n// 'params' 已经被正确地注入到环境中\n// 下面是一个示例，获取节点输入中参数名为'input'的值：\n// const input = params.input; \n// 下面是一个示例，输出一个包含多种数据类型的 'ret' 对象：\n// const ret = { \"name\": '小明', \"hobbies\": [\"看书\", \"旅游\"] };\n\nasync function main({ params }: Args): Promise<Output> {\n    // 构建输出对象\n    var link = params.host_link;\n    var book_link = params.book_link;\n    if(!link){\n        link = book_link;\n    }\n\n    // 构建输出对象\n    const ret = {\n        \"link\":  link\n    };\n\n    return ret;\n}","language":5,"settingOnError":{"processType":1,"timeoutMs":60000,"retryTimes":0}},"outputs":[{"type":"string","name":"link"}],"version":"v2"},"_temp":{"bounds":{"x":1595.7452125779332,"y":529.5168940828022,"width":360,"height":112},"externalData":{"icon":"https://lf3-static.bytednsdoc.com/obj/eden-cn/dvsmryvd_avi_dvsm/ljhwZthlaukjlkulzlp/icon/icon-Code-v2.jpg","description":"编写代码，处理输入变量来生成返回值","title":"代码","mainColor":"#00B2B2"}}}],"edges":[{"sourceNodeID":"172655","targetNodeID":"182040","sourcePortID":"false"},{"sourceNodeID":"182040","targetNodeID":"189500"},{"sourceNodeID":"189500","targetNodeID":"158063"},{"sourceNodeID":"158063","targetNodeID":"121555","targetPortID":"batch-function-inline-input"},{"sourceNodeID":"121555","targetNodeID":"172655","sourcePortID":"batch-function-inline-output"},{"sourceNodeID":"172655","targetNodeID":"1752142","sourcePortID":"true"},{"sourceNodeID":"1752142","targetNodeID":"189500"}],"_temp":{"bounds":{"x":1033.3644483952103,"y":220.7584470414011,"width":360,"height":112},"externalData":{"icon":"https://lf3-static.bytednsdoc.com/obj/eden-cn/dvsmryvd_avi_dvsm/ljhwZthlaukjlkulzlp/icon/icon-Batch-v2.jpg","description":"通过设定批量运行次数和逻辑，运行批处理体内的任务","title":"批处理","mainColor":"#00B2B2"}}},{"id":"1313298","type":"4","meta":{"position":{"x":1213.3644483952103,"y":-220.77579609464348}},"data":{"nodeMeta":{"description":"根据音色和文本合成音频","icon":"https://p26-flow-product-sign.byteimg.com/tos-cn-i-13w3uml6bg/dc534eb73e7046b1807db96af7c0e212~tplv-13w3uml6bg-resize:128:128.image?rk3s=2e2596fd&x-expires=1749019302&x-signature=ANAaS2aakkuW4eUDLIx7DP8XEoI%3D","subtitle":"语音合成:speech_synthesis","title":"speech_synthesis_start"},"inputs":{"apiParam":[{"input":{"type":"string","value":{"content":"7426655854067367946","rawMeta":{"type":1},"type":"literal"}},"name":"apiID"},{"input":{"type":"string","value":{"content":"speech_synthesis","rawMeta":{"type":1},"type":"literal"}},"name":"apiName"},{"input":{"type":"string","value":{"content":"7426655854067351562","rawMeta":{"type":1},"type":"literal"}},"name":"pluginID"},{"input":{"type":"string","value":{"content":"语音合成","rawMeta":{"type":1},"type":"literal"}},"name":"pluginName"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"pluginVersion"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"tips"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"outDocLink"}],"inputParameters":[{"name":"text","input":{"type":"string","value":{"type":"ref","content":{"source":"block-output","blockID":"169983","name":"start_text"},"rawMeta":{"type":1}}}},{"name":"speed_ratio","input":{"type":"float","value":{"type":"literal","content":1,"rawMeta":{"type":4}}}},{"name":"voice_id","input":{"type":"string","assistType":12,"value":{"type":"literal","content":"7426725529589661723","rawMeta":{"fileName":"开朗姐姐","type":18}}}}],"settingOnError":{"processType":1,"timeoutMs":180000,"retryTimes":0}},"outputs":[{"type":"float","name":"code","required":false},{"type":"object","name":"data","schema":[{"type":"float","name":"duration","required":false,"description":"音频时长，单位是s"},{"type":"string","name":"link","required":false}],"required":false},{"type":"string","name":"log_id","required":false},{"type":"string","name":"msg","required":false}]},"_temp":{"bounds":{"x":1033.3644483952103,"y":-220.77579609464348,"width":360,"height":136},"externalData":{"icon":"https://lf3-appstore-sign.oceancloudapi.com/ocean-cloud-tos/plugin_icon/372098605791453_1729153029627658847_7vpeyBUsGn.jpeg?lk3s=cd508e2b&x-expires=1765937494&x-signature=0JDQSBHXJONP3hIV5OE0LTrfnOM%3D","apiName":"speech_synthesis","pluginID":"7426655854067351562","pluginProductStatus":1,"pluginProductUnlistType":0,"pluginType":1,"spaceID":"7315016311652941851","inputs":[{"description":"语音情感","input":{},"name":"emotion","required":false,"type":"string"},{"defaultValue":3,"description":"调用emotion设置情感参数后可使用emotion_scale进一步设置情绪值，范围1~5，不设置时默认值为4。 注：理论上情绪值越大，情感越明显。但情绪值1~5实际为非线性增长，可能存在超过某个值后，情绪增加不明显，例如设置3和5时情绪值可能接近。","input":{},"name":"emotion_scale","required":false,"type":"float"},{"description":"音色的语种，非必填，所有中文音色支持中英文混合场景。可参考系统音色列表https://www.coze.cn/open/docs/dev_how_to_guides/sys_voice查看各音色支持的语种。","input":{},"name":"language","required":false,"type":"string"},{"defaultValue":"爽快思思/Skye","description":"音色ID，默认为爽快思思/Skye。详细音色列表参考 https://www.coze.cn/open/docs/guides/text_to_speech_plugin, default value is 爽快思思/Skye","input":{},"name":"speaker_id","required":false,"type":"string"},{"defaultValue":1,"description":"语速，范围是[0.2,3]，默认为1，通常保留一位小数即可, default value is 1","input":{},"name":"speed_ratio","required":false,"type":"float"},{"description":"要合成音频的文本内容","input":{},"name":"text","required":true,"type":"string"},{"assistType":12,"description":"扣子音色 ID，支持选择扣子系统预置的音色或资源库中复刻的音色。 可以在操作页面直接选择音色，或通过系统音色列表https://www.coze.cn/open/docs/dev_how_to_guides/sys_voice查看音色 ID。","input":{},"name":"voice_id","required":false,"type":"string"}],"outputs":[{"input":{},"name":"code","required":false,"type":"float"},{"input":{},"name":"data","required":false,"schema":[{"description":"音频时长，单位是s","input":{},"name":"duration","required":false,"type":"float"},{"input":{},"name":"link","required":false,"type":"string"}],"type":"object"},{"input":{},"name":"log_id","required":false,"type":"string"},{"input":{},"name":"msg","required":false,"type":"string"}],"updateTime":1763343492,"channel_id":2,"commercial_setting":{"business_type":1,"commercial_type":1},"latestVersionTs":"0","latestVersionName":"","versionName":"","description":"根据音色和文本合成音频。按照字符数计费，计费项&免费额度说明：https://www.coze.cn/open/docs/coze_pro/asr_tts_fee。使用资源库音色时，计费项为复刻音色文字转语音字数；使用预设音色时，模型为大模型对应系统音色文字转语音字数，小模型对应小模型合成次数 。","title":"speech_synthesis","mainColor":"#CA61FF"}}},{"id":"1577380","type":"4","meta":{"position":{"x":1720,"y":-208.77579609464348}},"data":{"nodeMeta":{"description":"获取音频时长（微秒）","icon":"https://p26-flow-product-sign.byteimg.com/tos-cn-i-13w3uml6bg/891f6d27546b4bc9bcf9b63c6f9c9373~tplv-13w3uml6bg-resize:128:128.image?rk3s=2e2596fd&x-expires=1758077933&x-signature=llFA%2Ba6ed6Tg%2BfbPGMN2lCB2DHA%3D","subtitle":"剪映草稿数据生成工具:get_audio_duration","title":"get_audio_duration_start"},"inputs":{"apiParam":[{"input":{"type":"string","value":{"content":"7537989256854372386","rawMeta":{"type":1},"type":"literal"}},"name":"apiID"},{"input":{"type":"string","value":{"content":"get_audio_duration","rawMeta":{"type":1},"type":"literal"}},"name":"apiName"},{"input":{"type":"string","value":{"content":"7537989256854306850","rawMeta":{"type":1},"type":"literal"}},"name":"pluginID"},{"input":{"type":"string","value":{"content":"剪映草稿数据生成工具","rawMeta":{"type":1},"type":"literal"}},"name":"pluginName"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"pluginVersion"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"tips"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"outDocLink"}],"inputParameters":[{"name":"url","input":{"type":"string","value":{"type":"ref","content":{"source":"block-output","blockID":"1313298","name":"data.link"},"rawMeta":{"type":1}}}}],"settingOnError":{"processType":1,"timeoutMs":180000,"retryTimes":0}},"outputs":[{"type":"integer","name":"duration","required":true,"description":"时长（微秒）"}]},"_temp":{"bounds":{"x":1540,"y":-208.77579609464348,"width":360,"height":112},"externalData":{"icon":"https://lf6-appstore-sign.oceancloudapi.com/ocean-cloud-tos/plugin_icon/1722314331273307_1755133364874511740_tsEgHECun3.png?lk3s=cd508e2b&x-expires=1765937523&x-signature=qXGME1tMkXSkJK00TvfLTdFNN0I%3D","apiName":"get_audio_duration","pluginID":"7537989256854306850","pluginProductStatus":1,"pluginProductUnlistType":0,"pluginType":1,"spaceID":"7491992518092357686","inputs":[{"description":"音频地址","input":{},"name":"url","required":true,"type":"string"}],"outputs":[{"description":"时长（微秒）","input":{},"name":"duration","required":true,"type":"integer"}],"updateTime":1762952532,"channel_id":2,"commercial_setting":{},"latestVersionTs":"0","latestVersionName":"","versionName":"","description":"获取音频时长（微秒）","title":"get_audio_duration","mainColor":"#CA61FF"}}},{"id":"1832504","type":"4","meta":{"position":{"x":1213.3644483952103,"y":-12}},"data":{"nodeMeta":{"description":"根据音色和文本合成音频","icon":"https://p26-flow-product-sign.byteimg.com/tos-cn-i-13w3uml6bg/dc534eb73e7046b1807db96af7c0e212~tplv-13w3uml6bg-resize:128:128.image?rk3s=2e2596fd&x-expires=1749019302&x-signature=ANAaS2aakkuW4eUDLIx7DP8XEoI%3D","subtitle":"语音合成:speech_synthesis","title":"speech_synthesis_intro"},"inputs":{"apiParam":[{"input":{"type":"string","value":{"content":"7426655854067367946","rawMeta":{"type":1},"type":"literal"}},"name":"apiID"},{"input":{"type":"string","value":{"content":"speech_synthesis","rawMeta":{"type":1},"type":"literal"}},"name":"apiName"},{"input":{"type":"string","value":{"content":"7426655854067351562","rawMeta":{"type":1},"type":"literal"}},"name":"pluginID"},{"input":{"type":"string","value":{"content":"语音合成","rawMeta":{"type":1},"type":"literal"}},"name":"pluginName"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"pluginVersion"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"tips"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"outDocLink"}],"inputParameters":[{"name":"text","input":{"type":"string","value":{"type":"ref","content":{"source":"block-output","blockID":"169983","name":"introduce_text"},"rawMeta":{"type":1}}}},{"name":"speed_ratio","input":{"type":"float","value":{"type":"literal","content":1,"rawMeta":{"type":4}}}},{"name":"voice_id","input":{"type":"string","assistType":12,"value":{"type":"literal","content":"7468512265134817331","rawMeta":{"fileName":"天才童声","type":18}}}}],"settingOnError":{"processType":1,"timeoutMs":180000,"retryTimes":0}},"outputs":[{"type":"float","name":"code","required":false},{"type":"object","name":"data","schema":[{"type":"float","name":"duration","required":false,"description":"音频时长，单位是s"},{"type":"string","name":"link","required":false}],"required":false},{"type":"string","name":"log_id","required":false},{"type":"string","name":"msg","required":false}]},"_temp":{"bounds":{"x":1033.3644483952103,"y":-12,"width":360,"height":136},"externalData":{"icon":"https://lf26-appstore-sign.oceancloudapi.com/ocean-cloud-tos/plugin_icon/372098605791453_1729153029627658847_7vpeyBUsGn.jpeg?lk3s=cd508e2b&x-expires=1765937556&x-signature=qEULBfbUHp7OBLYnb3xg1GyXhiw%3D","apiName":"speech_synthesis","pluginID":"7426655854067351562","pluginProductStatus":1,"pluginProductUnlistType":0,"pluginType":1,"spaceID":"7315016311652941851","inputs":[{"defaultValue":"爽快思思/Skye","description":"音色ID，默认为爽快思思/Skye。详细音色列表参考 https://www.coze.cn/open/docs/guides/text_to_speech_plugin, default value is 爽快思思/Skye","input":{},"name":"speaker_id","required":false,"type":"string"},{"defaultValue":1,"description":"语速，范围是[0.2,3]，默认为1，通常保留一位小数即可, default value is 1","input":{},"name":"speed_ratio","required":false,"type":"float"},{"description":"要合成音频的文本内容","input":{},"name":"text","required":true,"type":"string"},{"assistType":12,"description":"扣子音色 ID，支持选择扣子系统预置的音色或资源库中复刻的音色。 可以在操作页面直接选择音色，或通过系统音色列表https://www.coze.cn/open/docs/dev_how_to_guides/sys_voice查看音色 ID。","input":{},"name":"voice_id","required":false,"type":"string"},{"description":"语音情感","input":{},"name":"emotion","required":false,"type":"string"},{"defaultValue":3,"description":"调用emotion设置情感参数后可使用emotion_scale进一步设置情绪值，范围1~5，不设置时默认值为4。 注：理论上情绪值越大，情感越明显。但情绪值1~5实际为非线性增长，可能存在超过某个值后，情绪增加不明显，例如设置3和5时情绪值可能接近。","input":{},"name":"emotion_scale","required":false,"type":"float"},{"description":"音色的语种，非必填，所有中文音色支持中英文混合场景。可参考系统音色列表https://www.coze.cn/open/docs/dev_how_to_guides/sys_voice查看各音色支持的语种。","input":{},"name":"language","required":false,"type":"string"}],"outputs":[{"input":{},"name":"msg","required":false,"type":"string"},{"input":{},"name":"code","required":false,"type":"float"},{"input":{},"name":"data","required":false,"schema":[{"description":"音频时长，单位是s","input":{},"name":"duration","required":false,"type":"float"},{"input":{},"name":"link","required":false,"type":"string"}],"type":"object"},{"input":{},"name":"log_id","required":false,"type":"string"}],"updateTime":1763343492,"channel_id":2,"commercial_setting":{"business_type":1,"commercial_type":1},"latestVersionTs":"0","latestVersionName":"","versionName":"","description":"根据音色和文本合成音频。按照字符数计费，计费项&免费额度说明：https://www.coze.cn/open/docs/coze_pro/asr_tts_fee。使用资源库音色时，计费项为复刻音色文字转语音字数；使用预设音色时，模型为大模型对应系统音色文字转语音字数，小模型对应小模型合成次数 。","title":"speech_synthesis","mainColor":"#CA61FF"}}},{"id":"1114413","type":"4","meta":{"position":{"x":1720,"y":0}},"data":{"nodeMeta":{"description":"获取音频时长（微秒）","icon":"https://p26-flow-product-sign.byteimg.com/tos-cn-i-13w3uml6bg/891f6d27546b4bc9bcf9b63c6f9c9373~tplv-13w3uml6bg-resize:128:128.image?rk3s=2e2596fd&x-expires=1758077933&x-signature=llFA%2Ba6ed6Tg%2BfbPGMN2lCB2DHA%3D","subtitle":"剪映草稿数据生成工具:get_audio_duration","title":"get_audio_duration_intro"},"inputs":{"apiParam":[{"input":{"type":"string","value":{"content":"7537989256854372386","rawMeta":{"type":1},"type":"literal"}},"name":"apiID"},{"input":{"type":"string","value":{"content":"get_audio_duration","rawMeta":{"type":1},"type":"literal"}},"name":"apiName"},{"input":{"type":"string","value":{"content":"7537989256854306850","rawMeta":{"type":1},"type":"literal"}},"name":"pluginID"},{"input":{"type":"string","value":{"content":"剪映草稿数据生成工具","rawMeta":{"type":1},"type":"literal"}},"name":"pluginName"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"pluginVersion"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"tips"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"outDocLink"}],"inputParameters":[{"name":"url","input":{"type":"string","value":{"type":"ref","content":{"source":"block-output","blockID":"1832504","name":"data.link"},"rawMeta":{"type":1}}}}],"settingOnError":{"processType":1,"timeoutMs":180000,"retryTimes":0}},"outputs":[{"type":"integer","name":"duration","required":true,"description":"时长（微秒）"}]},"_temp":{"bounds":{"x":1540,"y":0,"width":360,"height":112},"externalData":{"icon":"https://lf9-appstore-sign.oceancloudapi.com/ocean-cloud-tos/plugin_icon/1722314331273307_1755133364874511740_tsEgHECun3.png?lk3s=cd508e2b&x-expires=1765937573&x-signature=sMEwbbCOyrqP%2FPCB5TaE%2BYZYgGk%3D","apiName":"get_audio_duration","pluginID":"7537989256854306850","pluginProductStatus":1,"pluginProductUnlistType":0,"pluginType":1,"spaceID":"7491992518092357686","inputs":[{"description":"音频地址","input":{},"name":"url","required":true,"type":"string"}],"outputs":[{"description":"时长（微秒）","input":{},"name":"duration","required":true,"type":"integer"}],"updateTime":1762952532,"channel_id":2,"commercial_setting":{},"latestVersionTs":"0","latestVersionName":"","versionName":"","description":"获取音频时长（微秒）","title":"get_audio_duration","mainColor":"#CA61FF"}}},{"id":"1565313","type":"5","meta":{"position":{"x":2454.7891506357637,"y":-208.77579609464348}},"data":{"nodeMeta":{"description":"编写代码，处理输入变量来生成返回值","icon":"https://lf3-static.bytednsdoc.com/obj/eden-cn/dvsmryvd_avi_dvsm/ljhwZthlaukjlkulzlp/icon/icon-Code-v2.jpg","subTitle":"代码","title":"代码_视频组装"},"inputs":{"inputParameters":[{"name":"scenes","input":{"type":"list","schema":{"type":"object","schema":[{"type":"integer","name":"order"},{"type":"string","name":"role"},{"type":"string","name":"text"}]},"value":{"type":"ref","content":{"source":"block-output","blockID":"169983","name":"dialogues"},"rawMeta":{"type":103}}}},{"name":"bg_image","input":{"type":"string","assistType":2,"value":{"type":"ref","content":{"source":"block-output","blockID":"131139","name":"data"},"rawMeta":{"type":7}}}},{"name":"link_list","input":{"type":"list","schema":{"type":"string"},"value":{"type":"ref","content":{"source":"block-output","blockID":"121555","name":"link_list"},"rawMeta":{"type":99}}}},{"name":"duration_list","input":{"type":"list","schema":{"type":"integer"},"value":{"type":"ref","content":{"source":"block-output","blockID":"121555","name":"duration_list"},"rawMeta":{"type":100}}}},{"name":"start_link","input":{"type":"string","value":{"type":"ref","content":{"source":"block-output","blockID":"1313298","name":"data.link"},"rawMeta":{"type":1}}}},{"name":"start_duration","input":{"type":"integer","value":{"type":"ref","content":{"source":"block-output","blockID":"1577380","name":"duration"},"rawMeta":{"type":2}}}},{"name":"intro_link","input":{"type":"string","value":{"type":"ref","content":{"source":"block-output","blockID":"1832504","name":"data.link"},"rawMeta":{"type":1}}}},{"name":"intro_duration","input":{"type":"integer","value":{"type":"ref","content":{"source":"block-output","blockID":"1114413","name":"duration"},"rawMeta":{"type":2}}}},{"name":"start_text","input":{"type":"string","value":{"type":"ref","content":{"source":"block-output","blockID":"169983","name":"start_text"},"rawMeta":{"type":1}}}},{"name":"introduce_text","input":{"type":"string","value":{"type":"ref","content":{"source":"block-output","blockID":"169983","name":"introduce_text"},"rawMeta":{"type":1}}}},{"name":"book_image","input":{"type":"string","assistType":2,"value":{"type":"ref","content":{"source":"block-output","blockID":"172289","name":"data"},"rawMeta":{"type":7}}}},{"name":"host_image","input":{"type":"string","assistType":2,"value":{"type":"ref","content":{"source":"block-output","blockID":"119305","name":"data"},"rawMeta":{"type":7}}}}],"code":"// 在这里，您可以通过 ‘params’  获取节点中的输入变量，并通过 'ret' 输出结果\n// 'params' 和 'ret' 已经被正确地注入到环境中\n// 下面是一个示例，获取节点输入中参数名为‘input’的值：\n// const input = params.input; \n// 下面是一个示例，输出一个包含多种数据类型的 'ret' 对象：\n// const ret = { \"name\": ‘小明’, \"hobbies\": [“看书”, “旅游”] };\n\nasync function main({ params }: Args): Promise<Output> {\n\n    const { bg_image, link_list, duration_list, scenes, start_duration,start_text,start_link,intro_duration,intro_link,introduce_text,host_image,book_image } = params;\n\n    const space_time = 100000;\n    const animation_duration = 500000;\n    // 处理音频数据\n    const audioData = [];\n    let audioStartTime = 0;\n    let maxDuration = 0;\n\n    const durationList = [];\n    const textTimeLines = [];\n    const textList = [];\n\n    const bgImageData = [];\n    const iconImageData = [];\n    \n    if(start_link){\n        let word_time = space_time;\n        audioData.push({\n            url: start_link,\n            duration:start_duration,\n            start: audioStartTime + word_time,\n            end: audioStartTime + word_time + start_duration\n        });\n        word_time += space_time + start_duration;\n        durationList.push(word_time);\n        audioStartTime += word_time;\n\n        iconImageData.push({\n            url: host_image,\n            start: audioStartTime - word_time,\n            end: audioStartTime,\n            transform_x:-771,\n            transform_y:-515,\n            scale_x:0.33,\n            scale_y:0.33,\n            in_animation: \"向上滑动\",\n            in_animation_duration: animation_duration,\n            out_animation: \"向下滑动\",\n            out_animation_duration: animation_duration\n        });\n    }\n    \n    if(intro_link){\n        let word_time = space_time;\n        audioData.push({\n            url: intro_link,\n            duration:intro_duration,\n            start: audioStartTime + word_time,\n            end: audioStartTime + word_time + intro_duration\n        });\n        word_time += space_time + intro_duration;\n        durationList.push(word_time);\n        audioStartTime += word_time;\n        \n        iconImageData.push({\n            url: book_image,\n            start: audioStartTime - word_time,\n            end: audioStartTime,\n            transform_x:771,\n            transform_y:-515,\n            scale_x:0.33,\n            scale_y:0.33,\n            in_animation: \"向上滑动\",\n            in_animation_duration: animation_duration,\n            out_animation: \"向下滑动\",\n            out_animation_duration: animation_duration\n        });\n    }\n         \n    \n    for (let i = 0; i < scenes.length; i++) {\n        const role = scenes[i].role;\n        const duration = duration_list[i];\n        let word_time = space_time;\n        if(link_list[i]){\n            audioData.push({\n                url: link_list[i],\n                duration:duration,\n                start: audioStartTime + word_time,\n                end: audioStartTime + word_time + duration\n            });\n            word_time += space_time + duration;\n        }\n         \n        durationList.push(word_time);\n        audioStartTime += word_time;\n        if(role == 'host'){\n            iconImageData.push({\n                url: host_image,\n                start: audioStartTime - word_time,\n                end: audioStartTime,\n                transform_x:-771,\n                transform_y:-515,\n                scale_x:0.33,\n                scale_y:0.33,\n                in_animation: \"向上滑动\",\n                in_animation_duration: animation_duration,\n                out_animation: \"向下滑动\",\n                out_animation_duration: animation_duration\n            });\n        }else{\n            iconImageData.push({\n                url: book_image,\n                start: audioStartTime - word_time,\n                end: audioStartTime,\n                transform_x:771,\n                transform_y:-515,\n                scale_x:0.33,\n                scale_y:0.33,\n                in_animation: \"向上滑动\",\n                in_animation_duration: animation_duration,\n                out_animation: \"向下滑动\",\n                out_animation_duration: animation_duration\n            });\n        }\n    }\n    \n    bgImageData.push({\n        url: bg_image,\n        start: 0,\n        end: audioStartTime,\n        in_animation: \"轻微放大\",\n        in_animation_duration: 100000\n    });\n    \n        \n    const captions = scenes.map(item => item.text);\n    const subtitleDurations = durationList;\n    captions.unshift(introduce_text);\n    captions.unshift(start_text);\n        \n    const { textTimelines, processedSubtitles } = processSubtitles(\n        captions,\n        subtitleDurations\n    );\n    \n    // 构建输出对象\n    const ret = {\n        \"audioData\": JSON.stringify(audioData),\n        \"bgImageData\": JSON.stringify(bgImageData),\n        \"iconImageData\": JSON.stringify(iconImageData),\n        \"durationList\":durationList,\n        \"textTimeLines\":textTimelines,\n        \"textList\":processedSubtitles,\n        \"duration\":audioStartTime\n    };\n\n    return ret;\n}\n\nconst SUB_CONFIG = {\n    MAX_LINE_LENGTH: 19,\n    SPLIT_PRIORITY: ['。','！','？','，',',','：',':','、','；',';',' '], // 补充句子结束符\n    TIME_PRECISION: 3\n};\n\nfunction splitLongPhrase(text, maxLen) {\n    if (text.length <= maxLen) return [text];\n    \n    // 严格在maxLen范围内查找分隔符\n    for (const delimiter of SUB_CONFIG.SPLIT_PRIORITY) {\n        const pos = text.lastIndexOf(delimiter, maxLen - 1); // 关键修改：限制查找范围\n        if (pos > 0) {\n            const splitPos = pos + 1;\n            return [\n                text.substring(0, splitPos).trim(),\n                ...splitLongPhrase(text.substring(splitPos).trim(), maxLen)\n            ];\n        }\n    }\n\n    // 汉字边界检查防止越界\n    const startPos = Math.min(maxLen, text.length) - 1;\n    for (let i = startPos; i > 0; i--) {\n        if (/[\\p{Unified_Ideograph}]/u.test(text[i])) {\n            return [\n                text.substring(0, i + 1).trim(),\n                ...splitLongPhrase(text.substring(i + 1).trim(), maxLen)\n            ];\n        }\n    }\n\n    // 强制分割时保证不超过maxLen\n    const splitPos = Math.min(maxLen, text.length);\n    return [\n        text.substring(0, splitPos).trim(),\n        ...splitLongPhrase(text.substring(splitPos).trim(), maxLen)\n    ];\n}\n\nconst processSubtitles = (\n    captions,\n    subtitleDurations,\n    startTimeμs = 0 // 新增参数：起始时间（单位微秒，默认0）\n  ) => {\n    const cleanRegex = /[\\u3000\\u3002-\\u303F\\uff00-\\uffef\\u2000-\\u206F!\"#$%&'()*+\\-./<=>?@\\\\^_`{|}~]/g;\n    \n    let processedSubtitles = [];\n    let processedSubtitleDurations = [];\n    \n    captions.forEach((text, index) => {\n      const totalDuration = subtitleDurations[index];\n      let phrases = splitLongPhrase(text, SUB_CONFIG.MAX_LINE_LENGTH);\n      \n      phrases = phrases.map(p => p.replace(cleanRegex, '').trim())\n                     .filter(p => p.length > 0);\n  \n      if (phrases.length === 0) {\n        processedSubtitles.push('');\n        processedSubtitleDurations.push(totalDuration);\n        return;\n      }\n  \n      const totalChars = phrases.reduce((sum, p) => sum + p.length, 0);\n      let accumulatedμs = 0;\n      \n      phrases.forEach((phrase, i) => {\n        const ratio = phrase.length / totalChars;\n        let durationμs = i === phrases.length - 1 \n          ? totalDuration - accumulatedμs\n          : Math.round(totalDuration * ratio);\n  \n        processedSubtitles.push(phrase);\n        processedSubtitleDurations.push(durationμs);\n        accumulatedμs += durationμs;\n      });\n    });\n  \n    // 时间轴生成（从指定起始时间开始）\n    const textTimelines = [];\n    let currentTime = startTimeμs; // 使用传入的起始时间\n    \n    processedSubtitleDurations.forEach(durationμs => {\n      const start = currentTime;\n      const end = start + durationμs;\n      \n      textTimelines.push({\n        start: start, // 直接使用整数\n        end: end\n      });\n      \n      currentTime = end; // 自动累计到下一段\n    });\n  \n    return { textTimelines, processedSubtitles };\n  };\n\n\n\n","language":5,"settingOnError":{"switch":false,"processType":1,"timeoutMs":60000,"retryTimes":0}},"outputs":[{"type":"string","name":"audioData"},{"type":"string","name":"bgImageData"},{"type":"list","name":"durationList","schema":{"type":"integer"}},{"type":"list","name":"textTimeLines","schema":{"type":"object","schema":[]}},{"type":"list","name":"textList","schema":{"type":"string"}},{"type":"integer","name":"duration"},{"type":"string","name":"iconImageData"}],"version":"v2"},"_temp":{"bounds":{"x":2274.7891506357637,"y":-208.77579609464348,"width":360,"height":112},"externalData":{"icon":"https://lf3-static.bytednsdoc.com/obj/eden-cn/dvsmryvd_avi_dvsm/ljhwZthlaukjlkulzlp/icon/icon-Code-v2.jpg","description":"编写代码，处理输入变量来生成返回值","title":"代码","mainColor":"#00B2B2"}}},{"id":"107619","type":"4","meta":{"position":{"x":2454.7891506357637,"y":37.81282055556494}},"data":{"nodeMeta":{"description":"创建草稿","icon":"https://p26-flow-product-sign.byteimg.com/tos-cn-i-13w3uml6bg/767544b57bff428fafd23665afa42d43~tplv-13w3uml6bg-resize:128:128.image?rk3s=2e2596fd&x-expires=1758075633&x-signature=lhtz0eQf9zhkGGps2%2Bya4Zk2BQQ%3D","subtitle":"剪映草稿文件夹小助手:create_draft","title":"创建草稿"},"inputs":{"apiParam":[{"input":{"type":"string","value":{"content":"7537991942484017202","rawMeta":{"type":1},"type":"literal"}},"name":"apiID"},{"input":{"type":"string","value":{"content":"create_draft","rawMeta":{"type":1},"type":"literal"}},"name":"apiName"},{"input":{"type":"string","value":{"content":"7537991942483918898","rawMeta":{"type":1},"type":"literal"}},"name":"pluginID"},{"input":{"type":"string","value":{"content":"剪映草稿文件夹小助手","rawMeta":{"type":1},"type":"literal"}},"name":"pluginName"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"pluginVersion"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"tips"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"outDocLink"}],"inputParameters":[{"name":"height","input":{"type":"integer","value":{"type":"literal","content":768,"rawMeta":{"type":2}}}},{"name":"width","input":{"type":"integer","value":{"type":"literal","content":1024,"rawMeta":{"type":2}}}}],"settingOnError":{"processType":1,"timeoutMs":180000,"retryTimes":0}},"outputs":[{"type":"string","name":"draft_id","required":false,"description":"草稿ID"}]},"_temp":{"bounds":{"x":2274.7891506357637,"y":37.81282055556494,"width":360,"height":112},"externalData":{"icon":"https://lf3-appstore-sign.oceancloudapi.com/ocean-cloud-tos/plugin_icon/1722314331273307_1755134156461673596_noOqGNRWn0.png?lk3s=cd508e2b&x-expires=1765938517&x-signature=yerVtVy8YH6e7Qj3fJBBUs0dFMc%3D","apiName":"create_draft","pluginID":"7537991942483918898","pluginProductStatus":1,"pluginProductUnlistType":0,"pluginType":1,"spaceID":"7491992518092357686","inputs":[{"description":"高度","input":{},"name":"height","required":true,"type":"integer"},{"description":"宽度","input":{},"name":"width","required":true,"type":"integer"}],"outputs":[{"description":"草稿ID","input":{},"name":"draft_id","required":false,"type":"string"}],"updateTime":1761189030,"channel_id":2,"commercial_setting":{},"latestVersionTs":"0","latestVersionName":"","versionName":"","description":"创建草稿","title":"create_draft","mainColor":"#CA61FF"}}},{"id":"106125","type":"4","meta":{"position":{"x":2454.7891506357637,"y":303.2938822266967}},"data":{"nodeMeta":{"description":"批量添加音频","icon":"https://p26-flow-product-sign.byteimg.com/tos-cn-i-13w3uml6bg/767544b57bff428fafd23665afa42d43~tplv-13w3uml6bg-resize:128:128.image?rk3s=2e2596fd&x-expires=1758075633&x-signature=lhtz0eQf9zhkGGps2%2Bya4Zk2BQQ%3D","subtitle":"剪映草稿文件夹小助手:add_audios","title":"添加字幕音频"},"inputs":{"apiParam":[{"input":{"type":"string","value":{"content":"7537991942483935282","rawMeta":{"type":1},"type":"literal"}},"name":"apiID"},{"input":{"type":"string","value":{"content":"add_audios","rawMeta":{"type":1},"type":"literal"}},"name":"apiName"},{"input":{"type":"string","value":{"content":"7537991942483918898","rawMeta":{"type":1},"type":"literal"}},"name":"pluginID"},{"input":{"type":"string","value":{"content":"剪映草稿文件夹小助手","rawMeta":{"type":1},"type":"literal"}},"name":"pluginName"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"pluginVersion"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"tips"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"outDocLink"}],"inputParameters":[{"name":"draft_id","input":{"type":"string","value":{"type":"ref","content":{"source":"block-output","blockID":"107619","name":"draft_id"},"rawMeta":{"type":1}}}},{"name":"infos","input":{"type":"string","value":{"type":"ref","content":{"source":"block-output","blockID":"1565313","name":"audioData"},"rawMeta":{"type":1}}}}],"settingOnError":{"processType":1,"timeoutMs":180000,"retryTimes":0}},"outputs":[{"type":"string","name":"draft_id","required":false,"description":"草稿ID"},{"type":"list","name":"material_ids","schema":{"type":"string"},"required":false,"description":"素材ID列表"},{"type":"list","name":"segment_ids","schema":{"type":"string"},"required":false,"description":"片段ID列表"},{"type":"string","name":"track_id","required":false,"description":"轨道ID"}]},"_temp":{"bounds":{"x":2274.7891506357637,"y":303.2938822266967,"width":360,"height":112},"externalData":{"icon":"https://lf6-appstore-sign.oceancloudapi.com/ocean-cloud-tos/plugin_icon/1722314331273307_1755134156461673596_noOqGNRWn0.png?lk3s=cd508e2b&x-expires=1765938529&x-signature=Ix1e4Mf3%2FlK2sXci7qV3EnJjMSQ%3D","apiName":"add_audios","pluginID":"7537991942483918898","pluginProductStatus":1,"pluginProductUnlistType":0,"pluginType":1,"spaceID":"7491992518092357686","inputs":[{"description":"草稿ID","input":{},"name":"draft_id","required":true,"type":"string"},{"description":"音频信息列表","input":{},"name":"infos","required":true,"type":"string"}],"outputs":[{"description":"轨道ID","input":{},"name":"track_id","required":false,"type":"string"},{"description":"草稿ID","input":{},"name":"draft_id","required":false,"type":"string"},{"description":"素材ID列表","input":{},"name":"material_ids","required":false,"schema":{"assistType":0,"type":"string"},"type":"list"},{"description":"片段ID列表","input":{},"name":"segment_ids","required":false,"schema":{"assistType":0,"type":"string"},"type":"list"}],"updateTime":1761189030,"channel_id":2,"commercial_setting":{},"latestVersionTs":"0","latestVersionName":"","versionName":"","description":"批量添加音频","title":"add_audios","mainColor":"#CA61FF"}}},{"id":"164177","type":"4","meta":{"position":{"x":2454.7891506357637,"y":549.503026746084}},"data":{"nodeMeta":{"description":"批量添加图片","icon":"https://p26-flow-product-sign.byteimg.com/tos-cn-i-13w3uml6bg/767544b57bff428fafd23665afa42d43~tplv-13w3uml6bg-resize:128:128.image?rk3s=2e2596fd&x-expires=1758075633&x-signature=lhtz0eQf9zhkGGps2%2Bya4Zk2BQQ%3D","subtitle":"剪映草稿文件夹小助手:add_images","title":"添加分镜图片_bg"},"inputs":{"apiParam":[{"input":{"type":"string","value":{"content":"7537991942483951666","rawMeta":{"type":1},"type":"literal"}},"name":"apiID"},{"input":{"type":"string","value":{"content":"add_images","rawMeta":{"type":1},"type":"literal"}},"name":"apiName"},{"input":{"type":"string","value":{"content":"7537991942483918898","rawMeta":{"type":1},"type":"literal"}},"name":"pluginID"},{"input":{"type":"string","value":{"content":"剪映草稿文件夹小助手","rawMeta":{"type":1},"type":"literal"}},"name":"pluginName"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"pluginVersion"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"tips"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"outDocLink"}],"inputParameters":[{"name":"draft_id","input":{"type":"string","value":{"type":"ref","content":{"source":"block-output","blockID":"107619","name":"draft_id"},"rawMeta":{"type":1}}}},{"name":"infos","input":{"type":"string","value":{"type":"ref","content":{"source":"block-output","blockID":"1565313","name":"bgImageData"},"rawMeta":{"type":1}}}}],"settingOnError":{"processType":1,"timeoutMs":180000,"retryTimes":0}},"outputs":[{"type":"string","name":"draft_id","required":false,"description":"草稿ID"},{"type":"list","name":"material_ids","schema":{"type":"string"},"required":false,"description":"素材ID列表"},{"type":"list","name":"segment_ids","schema":{"type":"string"},"required":false,"description":"片段ID列表"},{"type":"list","name":"segment_infos","schema":{"type":"object","schema":[{"type":"integer","name":"end","required":false,"description":"结束时间点（微秒）"},{"type":"string","name":"id","required":false,"description":"ID"},{"type":"integer","name":"start","required":false,"description":"开始时间点（微秒）"}]},"required":false,"description":"片段信息列表"},{"type":"string","name":"track_id","required":false,"description":"轨道ID"}]},"_temp":{"bounds":{"x":2274.7891506357637,"y":549.503026746084,"width":360,"height":112},"externalData":{"icon":"https://lf26-appstore-sign.oceancloudapi.com/ocean-cloud-tos/plugin_icon/1722314331273307_1755134156461673596_noOqGNRWn0.png?lk3s=cd508e2b&x-expires=1765938543&x-signature=juSAUo83zq7713vvxByvFQU7zCo%3D","apiName":"add_images","pluginID":"7537991942483918898","pluginProductStatus":1,"pluginProductUnlistType":0,"pluginType":1,"spaceID":"7491992518092357686","inputs":[{"description":"位置，[-画布宽度，+画布宽度]","input":{},"name":"transform_x","required":false,"type":"integer"},{"description":"位置，[-画布高度，+画布高度]，默认为-0.8*画布高度，即在画布底部","input":{},"name":"transform_y","required":false,"type":"integer"},{"description":"出场动画时长（微秒）","input":{},"name":"out_animation_duration","required":false,"type":"integer"},{"description":"缩放","input":{},"name":"scale_x","required":false,"type":"float"},{"description":"缩放","input":{},"name":"scale_y","required":false,"type":"float"},{"description":"草稿ID","input":{},"name":"draft_id","required":true,"type":"string"},{"description":"入场动画","input":{},"name":"in_animation","required":false,"type":"string"},{"description":"入场动画时长（微秒）","input":{},"name":"in_animation_duration","required":false,"type":"integer"},{"description":"图片信息列表","input":{},"name":"infos","required":true,"type":"string"},{"description":"出场动画","input":{},"name":"out_animation","required":false,"type":"string"}],"outputs":[{"description":"片段ID列表","input":{},"name":"segment_ids","required":false,"schema":{"assistType":0,"type":"string"},"type":"list"},{"description":"片段信息列表","input":{},"name":"segment_infos","required":false,"schema":{"schema":[{"description":"结束时间点（微秒）","input":{},"name":"end","required":false,"type":"integer"},{"description":"ID","input":{},"name":"id","required":false,"type":"string"},{"description":"开始时间点（微秒）","input":{},"name":"start","required":false,"type":"integer"}],"type":"object"},"type":"list"},{"description":"轨道ID","input":{},"name":"track_id","required":false,"type":"string"},{"description":"草稿ID","input":{},"name":"draft_id","required":false,"type":"string"},{"description":"素材ID列表","input":{},"name":"material_ids","required":false,"schema":{"assistType":0,"type":"string"},"type":"list"}],"updateTime":1761189030,"channel_id":2,"commercial_setting":{},"latestVersionTs":"0","latestVersionName":"","versionName":"","description":"批量添加图片","title":"add_images","mainColor":"#CA61FF"}}},{"id":"175385","type":"4","meta":{"position":{"x":3164.356743029941,"y":-124}},"data":{"nodeMeta":{"description":"生成文本信息列表","icon":"https://p26-flow-product-sign.byteimg.com/tos-cn-i-13w3uml6bg/891f6d27546b4bc9bcf9b63c6f9c9373~tplv-13w3uml6bg-resize:128:128.image?rk3s=2e2596fd&x-expires=1757745478&x-signature=YdfU8PR%2FxGcysAJSPJiez1i0Yfg%3D","subtitle":"剪映草稿数据生成工具:text_infos","title":"字幕信息"},"inputs":{"apiParam":[{"input":{"type":"string","value":{"content":"7537989259517493288","rawMeta":{"type":1},"type":"literal"}},"name":"apiID"},{"input":{"type":"string","value":{"content":"text_infos","rawMeta":{"type":1},"type":"literal"}},"name":"apiName"},{"input":{"type":"string","value":{"content":"7537989256854306850","rawMeta":{"type":1},"type":"literal"}},"name":"pluginID"},{"input":{"type":"string","value":{"content":"剪映草稿数据生成工具","rawMeta":{"type":1},"type":"literal"}},"name":"pluginName"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"pluginVersion"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"tips"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"outDocLink"}],"inputParameters":[{"name":"texts","input":{"type":"list","schema":{"type":"string"},"value":{"type":"ref","content":{"source":"block-output","blockID":"1565313","name":"textList"},"rawMeta":{"type":99}}}},{"name":"timelines","input":{"type":"list","schema":{"type":"object","schema":[]},"value":{"type":"ref","content":{"source":"block-output","blockID":"1565313","name":"textTimeLines"},"rawMeta":{"type":103}}}},{"name":"border_color","input":{"type":"string","value":{"type":"literal","content":"#4a4238","rawMeta":{"type":1}}}},{"name":"color","input":{"type":"string","value":{"type":"literal","content":"#f2f2ed","rawMeta":{"type":1}}}},{"name":"font","input":{"type":"string","value":{"type":"literal","content":"兰亭圆","rawMeta":{"type":1}}}},{"name":"in_animation","input":{"type":"string","value":{"type":"literal","content":"羽化向右擦开","rawMeta":{"type":1}}}},{"name":"in_animation_duration","input":{"type":"integer","value":{"type":"literal","content":2000000,"rawMeta":{"type":2}}}},{"name":"letter_spacing","input":{"type":"integer","value":{"type":"literal","content":8,"rawMeta":{"type":2}}}},{"name":"line_spacing","input":{"type":"integer","value":{"type":"literal","content":8,"rawMeta":{"type":2}}}},{"name":"size","input":{"type":"integer","value":{"type":"literal","content":12,"rawMeta":{"type":2}}}},{"name":"transform_x","input":{"type":"integer","value":{"type":"literal","content":0,"rawMeta":{"type":2}}}},{"name":"transform_y","input":{"type":"integer","value":{"type":"literal","content":400,"rawMeta":{"type":2}}}}],"settingOnError":{"processType":1,"timeoutMs":180000,"retryTimes":0}},"outputs":[{"type":"string","name":"infos","required":true,"description":"文本信息列表，JSON数组格式字符串"}]},"_temp":{"bounds":{"x":2984.356743029941,"y":-124,"width":360,"height":112},"externalData":{"icon":"https://lf6-appstore-sign.oceancloudapi.com/ocean-cloud-tos/plugin_icon/1722314331273307_1755133364874511740_tsEgHECun3.png?lk3s=cd508e2b&x-expires=1765938560&x-signature=FU6xT%2FmzWrbApbAYSAmD8mXZScQ%3D","apiName":"text_infos","pluginID":"7537989256854306850","pluginProductStatus":1,"pluginProductUnlistType":0,"pluginType":1,"spaceID":"7491992518092357686","inputs":[{"description":"描边透明度，0到1","input":{},"name":"border_alpha","required":false,"type":"float"},{"description":"字体","input":{},"name":"font","required":false,"type":"string"},{"description":"字符间距","input":{},"name":"letter_spacing","required":false,"type":"integer"},{"description":"出场动画","input":{},"name":"out_animation","required":false,"type":"string"},{"description":"出场动画时长（微秒）","input":{},"name":"out_animation_duration","required":false,"type":"integer"},{"description":"字号，默认为8","input":{},"name":"size","required":false,"type":"integer"},{"description":"对齐方式，0/左对齐，1/居中，2/右对齐，默认为居中","input":{},"name":"align","required":false,"type":"integer"},{"description":"透明度，0到1","input":{},"name":"alpha","required":false,"type":"float"},{"description":"时间线列表","input":{},"name":"timelines","required":true,"schema":{"schema":[{"description":"结束时间点（微秒）","input":{},"name":"end","required":true,"type":"integer"},{"description":"开始时间点（微秒）","input":{},"name":"start","required":true,"type":"integer"}],"type":"object"},"type":"list"},{"description":"位置，[-画布高度，+画布高度]，默认为-0.8*画布高度","input":{},"name":"transform_y","required":false,"type":"integer"},{"description":"文本列表","input":{},"name":"texts","required":true,"schema":{"assistType":0,"type":"string"},"type":"list"},{"description":"缩放","input":{},"name":"scale_x","required":false,"type":"float"},{"description":"入场动画时长（微秒）","input":{},"name":"in_animation_duration","required":false,"type":"integer"},{"description":"入场动画","input":{},"name":"in_animation","required":false,"type":"string"},{"description":"行间距","input":{},"name":"line_spacing","required":false,"type":"integer"},{"description":"缩放","input":{},"name":"scale_y","required":false,"type":"float"},{"description":"位置，[-画布宽度，+画布宽度]","input":{},"name":"transform_x","required":false,"type":"integer"},{"description":"描边颜色，如#FFAACC","input":{},"name":"border_color","required":false,"type":"string"},{"description":"颜色，如#FFAABB","input":{},"name":"color","required":false,"type":"string"}],"outputs":[{"description":"文本信息列表，JSON数组格式字符串","input":{},"name":"infos","required":true,"type":"string"}],"updateTime":1762952532,"channel_id":2,"commercial_setting":{},"latestVersionTs":"0","latestVersionName":"","versionName":"","description":"生成文本信息列表","title":"text_infos","mainColor":"#CA61FF"}}},{"id":"127991","type":"4","meta":{"position":{"x":3164.356743029941,"y":174.2924148483755}},"data":{"nodeMeta":{"description":"批量添加文本","icon":"https://p3-flow-product-sign.byteimg.com/tos-cn-i-13w3uml6bg/492553ac457b4e0b8bd88b9bde0e59e9~tplv-13w3uml6bg-resize:128:128.image?rk3s=2e2596fd&x-expires=1757745295&x-signature=6eDCERjMwgLhA3Hnr%2FjXbUzN69g%3D","subtitle":"剪映草稿文件夹小助手:add_texts","title":"添加字幕"},"inputs":{"apiParam":[{"input":{"type":"string","value":{"content":"7537991942483984434","rawMeta":{"type":1},"type":"literal"}},"name":"apiID"},{"input":{"type":"string","value":{"content":"add_texts","rawMeta":{"type":1},"type":"literal"}},"name":"apiName"},{"input":{"type":"string","value":{"content":"7537991942483918898","rawMeta":{"type":1},"type":"literal"}},"name":"pluginID"},{"input":{"type":"string","value":{"content":"剪映草稿文件夹小助手","rawMeta":{"type":1},"type":"literal"}},"name":"pluginName"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"pluginVersion"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"tips"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"outDocLink"}],"inputParameters":[{"name":"draft_id","input":{"type":"string","value":{"type":"ref","content":{"source":"block-output","blockID":"107619","name":"draft_id"},"rawMeta":{"type":1}}}},{"name":"infos","input":{"type":"string","value":{"type":"ref","content":{"source":"block-output","blockID":"175385","name":"infos"},"rawMeta":{"type":1}}}}],"settingOnError":{"processType":1,"timeoutMs":180000,"retryTimes":0}},"outputs":[{"type":"string","name":"draft_id","required":false,"description":"草稿ID"},{"type":"list","name":"material_ids","schema":{"type":"string"},"required":false,"description":"素材ID列表"},{"type":"list","name":"segment_ids","schema":{"type":"string"},"required":false,"description":"片段ID列表"},{"type":"string","name":"track_id","required":false,"description":"轨道ID"}]},"_temp":{"bounds":{"x":2984.356743029941,"y":174.2924148483755,"width":360,"height":112},"externalData":{"icon":"https://lf3-appstore-sign.oceancloudapi.com/ocean-cloud-tos/plugin_icon/1722314331273307_1755134156461673596_noOqGNRWn0.png?lk3s=cd508e2b&x-expires=1765938573&x-signature=Br0OJ58%2BfgDb%2BaziKOSZJaGzFeg%3D","apiName":"add_texts","pluginID":"7537991942483918898","pluginProductStatus":1,"pluginProductUnlistType":0,"pluginType":1,"spaceID":"7491992518092357686","inputs":[{"description":"对齐方式，0/左对齐，1/居中，2/右对齐，默认为1","input":{},"name":"align","required":false,"type":"integer"},{"description":"透明度，0到1","input":{},"name":"alpha","required":false,"type":"float"},{"description":"字号，默认为8","input":{},"name":"size","required":false,"type":"integer"},{"description":"文本信息列表","input":{},"name":"infos","required":true,"type":"string"},{"description":"行间距","input":{},"name":"line_spacing","required":false,"type":"integer"},{"description":"缩放","input":{},"name":"scale_y","required":false,"type":"float"},{"description":"位置，[-画布宽度，+画布宽度]","input":{},"name":"transform_x","required":false,"type":"integer"},{"description":"出场动画时长（微秒）","input":{},"name":"out_animation_duration","required":false,"type":"integer"},{"description":"颜色，如#e70953","input":{},"name":"color","required":false,"type":"string"},{"description":"字体","input":{},"name":"font","required":false,"type":"string"},{"description":"入场动画","input":{},"name":"in_animation","required":false,"type":"string"},{"description":"出场动画","input":{},"name":"out_animation","required":false,"type":"string"},{"description":"位置，[-画布高度，+画布高度]，默认为-0.8*画布高度，即在画布底部","input":{},"name":"transform_y","required":false,"type":"integer"},{"description":"草稿ID","input":{},"name":"draft_id","required":true,"type":"string"},{"description":"入场动画时长（微秒）","input":{},"name":"in_animation_duration","required":false,"type":"integer"},{"description":"字符间距","input":{},"name":"letter_spacing","required":false,"type":"integer"},{"description":"缩放","input":{},"name":"scale_x","required":false,"type":"float"}],"outputs":[{"description":"草稿ID","input":{},"name":"draft_id","required":false,"type":"string"},{"description":"素材ID列表","input":{},"name":"material_ids","required":false,"schema":{"assistType":0,"type":"string"},"type":"list"},{"description":"片段ID列表","input":{},"name":"segment_ids","required":false,"schema":{"assistType":0,"type":"string"},"type":"list"},{"description":"轨道ID","input":{},"name":"track_id","required":false,"type":"string"}],"updateTime":1761189030,"channel_id":2,"commercial_setting":{},"latestVersionTs":"0","latestVersionName":"","versionName":"","description":"批量添加文本","title":"add_texts","mainColor":"#CA61FF"}}},{"id":"169807","type":"15","meta":{"position":{"x":3164.356743029941,"y":461.63192001801815}},"data":{"nodeMeta":{"description":"用于处理多个字符串类型变量的格式","icon":"https://lf3-static.bytednsdoc.com/obj/eden-cn/dvsmryvd_avi_dvsm/ljhwZthlaukjlkulzlp/icon/icon-StrConcat-v2.jpg","mainColor":"#3071F2","subTitle":"文本处理","title":"生成下载地址"},"inputs":{"method":"concat","inputParameters":[{"name":"String1","input":{"type":"string","value":{"type":"ref","content":{"source":"block-output","blockID":"107619","name":"draft_id"},"rawMeta":{"type":1}}}}],"concatParams":[{"name":"concatResult","input":{"type":"string","value":{"type":"literal","content":"https://cdn-rd-aiqnwmini.vas.lutongnet.com/aiqnwmini/download-draft/index.html?draftId={{String1}}","rawMeta":{"type":1}}}},{"name":"arrayItemConcatChar","input":{"type":"string","value":{"type":"literal","content":"，","rawMeta":{"type":1}}}},{"name":"allArrayItemConcatChars","input":{"type":"list","schema":{"type":"object","schema":[{"type":"string","name":"label","required":true},{"type":"string","name":"value","required":true},{"type":"boolean","name":"isDefault","required":true}]},"value":{"type":"literal","content":[{"isDefault":true,"label":"换行","value":"\n"},{"isDefault":true,"label":"制表符","value":"\t"},{"isDefault":true,"label":"句号","value":"。"},{"isDefault":true,"label":"逗号","value":"，"},{"isDefault":true,"label":"分号","value":"；"},{"isDefault":true,"label":"空格","value":" "}]}}}]},"outputs":[{"type":"string","name":"output","required":true}]},"_temp":{"bounds":{"x":2984.356743029941,"y":461.63192001801815,"width":360,"height":112},"externalData":{"icon":"https://lf3-static.bytednsdoc.com/obj/eden-cn/dvsmryvd_avi_dvsm/ljhwZthlaukjlkulzlp/icon/icon-StrConcat-v2.jpg","description":"用于处理多个字符串类型变量的格式","title":"文本处理","mainColor":"#3071F2"}}},{"id":"134671","type":"31","meta":{"position":{"x":-59.99999999999999,"y":103.75139194492209}},"data":{"size":{"height":150,"width":240},"inputs":{"schemaType":"slate","note":"[{\"type\":\"paragraph\",\"children\":[{\"text\":\"输入书籍名称、作者，自动生成书籍采访视频\",\"type\":\"text\"}]}]"}},"_temp":{"bounds":{"x":-180,"y":103.75139194492209,"width":240,"height":150},"externalData":{"icon":"comment_icon","description":"comment_desc","title":"注释","mainColor":""}}},{"id":"1141927","type":"16","meta":{"position":{"x":1213.3644483952103,"y":-657.9312419061188}},"data":{"inputs":{"apiParam":null,"inputParameters":[{"name":"desc_prompt","input":{"type":"string","value":{"type":"ref","content":{"source":"block-output","blockID":"169983","name":"host_prompt"},"rawMeta":{"type":1}}}}],"modelSetting":{"custom_ratio":{"ratio_type":"fixed","width":512,"height":512},"ddim_steps":40,"images_reference":{},"model":8,"ratio":0},"prompt":{"negative_prompt":"","prompt":"{{desc_prompt}}"},"references":[],"settingOnError":{"switch":false,"processType":1,"timeoutMs":60000,"retryTimes":0}},"nodeMeta":{"description":"通过文字描述/添加参考图生成图片","icon":"https://lf3-static.bytednsdoc.com/obj/eden-cn/dvsmryvd_avi_dvsm/ljhwZthlaukjlkulzlp/icon/icon-ImageGeneration-v2.jpg","subTitle":"图像生成","title":"图像生成_host"},"outputs":[{"type":"string","assistType":2,"name":"data","required":false},{"type":"string","name":"msg","required":false}],"settingOnError":{"settingOnErrorIsOpen":false,"processType":1,"timeoutMs":60000,"retryTimes":0},"settings":null,"version":""},"_temp":{"bounds":{"x":1033.3644483952103,"y":-657.9312419061188,"width":360,"height":164},"externalData":{"icon":"https://lf3-static.bytednsdoc.com/obj/eden-cn/dvsmryvd_avi_dvsm/ljhwZthlaukjlkulzlp/icon/icon-ImageGeneration-v2.jpg","description":"通过文字描述/添加参考图生成图片","title":"图像生成","mainColor":"#FF4DC3"}}},{"id":"1202324","type":"16","meta":{"position":{"x":1213.3644483952103,"y":-901.7226125021552}},"data":{"inputs":{"apiParam":null,"inputParameters":[{"name":"desc_prompt","input":{"type":"string","value":{"type":"ref","content":{"source":"block-output","blockID":"169983","name":"book_prompt"},"rawMeta":{"type":1}}}}],"modelSetting":{"custom_ratio":{"ratio_type":"fixed","width":512,"height":512},"ddim_steps":40,"images_reference":{},"model":8,"ratio":0},"prompt":{"negative_prompt":"","prompt":"{{desc_prompt}}"},"references":[],"settingOnError":{"switch":false,"processType":1,"timeoutMs":60000,"retryTimes":0}},"nodeMeta":{"description":"通过文字描述/添加参考图生成图片","icon":"https://lf3-static.bytednsdoc.com/obj/eden-cn/dvsmryvd_avi_dvsm/ljhwZthlaukjlkulzlp/icon/icon-ImageGeneration-v2.jpg","subTitle":"图像生成","title":"图像生成_book"},"outputs":[{"type":"string","assistType":2,"name":"data","required":false},{"type":"string","name":"msg","required":false}],"settingOnError":{"settingOnErrorIsOpen":false,"processType":1,"timeoutMs":60000,"retryTimes":0},"settings":null,"version":""},"_temp":{"bounds":{"x":1033.3644483952103,"y":-901.7226125021552,"width":360,"height":164},"externalData":{"icon":"https://lf3-static.bytednsdoc.com/obj/eden-cn/dvsmryvd_avi_dvsm/ljhwZthlaukjlkulzlp/icon/icon-ImageGeneration-v2.jpg","description":"通过文字描述/添加参考图生成图片","title":"图像生成","mainColor":"#FF4DC3"}}},{"id":"1824190","type":"4","meta":{"position":{"x":2454.7891506357637,"y":776.0010768490461}},"data":{"nodeMeta":{"description":"批量添加图片","icon":"https://p26-flow-product-sign.byteimg.com/tos-cn-i-13w3uml6bg/767544b57bff428fafd23665afa42d43~tplv-13w3uml6bg-resize:128:128.image?rk3s=2e2596fd&x-expires=1758075633&x-signature=lhtz0eQf9zhkGGps2%2Bya4Zk2BQQ%3D","subtitle":"剪映草稿文件夹小助手:add_images","title":"添加分镜图片_icon"},"inputs":{"apiParam":[{"input":{"type":"string","value":{"content":"7537991942483951666","rawMeta":{"type":1},"type":"literal"}},"name":"apiID"},{"input":{"type":"string","value":{"content":"add_images","rawMeta":{"type":1},"type":"literal"}},"name":"apiName"},{"input":{"type":"string","value":{"content":"7537991942483918898","rawMeta":{"type":1},"type":"literal"}},"name":"pluginID"},{"input":{"type":"string","value":{"content":"剪映草稿文件夹小助手","rawMeta":{"type":1},"type":"literal"}},"name":"pluginName"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"pluginVersion"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"tips"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"outDocLink"}],"inputParameters":[{"name":"draft_id","input":{"type":"string","value":{"type":"ref","content":{"source":"block-output","blockID":"107619","name":"draft_id"},"rawMeta":{"type":1}}}},{"name":"infos","input":{"type":"string","value":{"type":"ref","content":{"source":"block-output","blockID":"1565313","name":"iconImageData"},"rawMeta":{"type":1}}}}],"settingOnError":{"processType":1,"timeoutMs":180000,"retryTimes":0}},"outputs":[{"type":"string","name":"draft_id","required":false,"description":"草稿ID"},{"type":"list","name":"material_ids","schema":{"type":"string"},"required":false,"description":"素材ID列表"},{"type":"list","name":"segment_ids","schema":{"type":"string"},"required":false,"description":"片段ID列表"},{"type":"list","name":"segment_infos","schema":{"type":"object","schema":[{"type":"integer","name":"end","required":false,"description":"结束时间点（微秒）"},{"type":"string","name":"id","required":false,"description":"ID"},{"type":"integer","name":"start","required":false,"description":"开始时间点（微秒）"}]},"required":false,"description":"片段信息列表"},{"type":"string","name":"track_id","required":false,"description":"轨道ID"}]},"_temp":{"bounds":{"x":2274.7891506357637,"y":776.0010768490461,"width":360,"height":112},"externalData":{"icon":"https://lf6-appstore-sign.oceancloudapi.com/ocean-cloud-tos/plugin_icon/1722314331273307_1755134156461673596_noOqGNRWn0.png?lk3s=cd508e2b&x-expires=1765941638&x-signature=sp9GC5mhbuSqfXL9%2FGjT1TGPg0k%3D","apiName":"add_images","pluginID":"7537991942483918898","pluginProductStatus":1,"pluginProductUnlistType":0,"pluginType":1,"spaceID":"7491992518092357686","inputs":[{"description":"缩放","input":{},"name":"scale_y","required":false,"type":"float"},{"description":"位置，[-画布高度，+画布高度]，默认为-0.8*画布高度，即在画布底部","input":{},"name":"transform_y","required":false,"type":"integer"},{"description":"草稿ID","input":{},"name":"draft_id","required":true,"type":"string"},{"description":"入场动画时长（微秒）","input":{},"name":"in_animation_duration","required":false,"type":"integer"},{"description":"图片信息列表","input":{},"name":"infos","required":true,"type":"string"},{"description":"出场动画","input":{},"name":"out_animation","required":false,"type":"string"},{"description":"出场动画时长（微秒）","input":{},"name":"out_animation_duration","required":false,"type":"integer"},{"description":"缩放","input":{},"name":"scale_x","required":false,"type":"float"},{"description":"位置，[-画布宽度，+画布宽度]","input":{},"name":"transform_x","required":false,"type":"integer"},{"description":"入场动画","input":{},"name":"in_animation","required":false,"type":"string"}],"outputs":[{"description":"草稿ID","input":{},"name":"draft_id","required":false,"type":"string"},{"description":"素材ID列表","input":{},"name":"material_ids","required":false,"schema":{"assistType":0,"type":"string"},"type":"list"},{"description":"片段ID列表","input":{},"name":"segment_ids","required":false,"schema":{"assistType":0,"type":"string"},"type":"list"},{"description":"片段信息列表","input":{},"name":"segment_infos","required":false,"schema":{"schema":[{"description":"开始时间点（微秒）","input":{},"name":"start","required":false,"type":"integer"},{"description":"结束时间点（微秒）","input":{},"name":"end","required":false,"type":"integer"},{"description":"ID","input":{},"name":"id","required":false,"type":"string"}],"type":"object"},"type":"list"},{"description":"轨道ID","input":{},"name":"track_id","required":false,"type":"string"}],"updateTime":1761189030,"channel_id":2,"commercial_setting":{},"latestVersionTs":"0","latestVersionName":"","versionName":"","description":"批量添加图片","title":"add_images","mainColor":"#CA61FF"}}},{"id":"172289","type":"4","meta":{"position":{"x":1720,"y":-887.7226125021552}},"data":{"nodeMeta":{"title":"cutout_book","icon":"https://lf3-static.bytednsdoc.com/obj/eden-cn/dvsmryvd_avi_dvsm/ljhwZthlaukjlkulzlp/icon/icon-plugin-cutout-v2.jpg","subtitle":"抠图:cutout","description":"保留图片前景主体，输出透明背景(.png)"},"inputs":{"apiParam":[{"name":"apiID","input":{"type":"string","value":{"type":"literal","content":"7438919188246429731","rawMeta":{"type":1}}}},{"name":"apiName","input":{"type":"string","value":{"type":"literal","content":"cutout","rawMeta":{"type":1}}}},{"name":"pluginID","input":{"type":"string","value":{"type":"literal","content":"7438919188246413347","rawMeta":{"type":1}}}},{"name":"pluginName","input":{"type":"string","value":{"type":"literal","content":"抠图","rawMeta":{"type":1}}}},{"name":"pluginVersion","input":{"type":"string","value":{"type":"literal","content":"","rawMeta":{"type":1}}}},{"name":"tips","input":{"type":"string","value":{"type":"literal","content":"","rawMeta":{"type":1}}}},{"name":"outDocLink","input":{"type":"string","value":{"type":"literal","content":"","rawMeta":{"type":1}}}}],"inputParameters":[{"name":"url","input":{"type":"string","assistType":2,"value":{"type":"ref","content":{"source":"block-output","blockID":"1202324","name":"data"},"rawMeta":{"type":7}}}},{"name":"only_mask","input":{"type":"string","value":{"type":"literal","content":"3"}}},{"name":"output_mode","input":{"type":"string","value":{"type":"literal","content":"0"}}}],"settingOnError":{"processType":1,"timeoutMs":180000,"retryTimes":0}},"outputs":[{"type":"string","assistType":2,"name":"data","required":false,"description":"透明背景图，在输出模式为透明背景时生效"},{"type":"string","name":"mask","required":false,"description":"抠图区域蒙板矢量图，在输出模式为蒙版矢量图时生效"},{"type":"string","name":"msg","required":false}]},"_temp":{"bounds":{"x":1540,"y":-887.7226125021552,"width":360,"height":136},"externalData":{"icon":"https://lf26-appstore-sign.oceancloudapi.com/ocean-cloud-tos/plugin_icon/1682717607724762_1737442217436398717_QfrWIv9q70.jpg?lk3s=cd508e2b&x-expires=1765951419&x-signature=DWVOjwksA8AFv8Q02U5O559Tgoo%3D","apiName":"cutout","pluginID":"7438919188246413347","pluginProductStatus":1,"pluginProductUnlistType":0,"pluginType":1,"spaceID":"7352795533666664448","inputs":[{"defaultValue":0,"description":"结果图尺寸，支持返回抠图结果尺寸(去除透明长宽)和原图尺寸, enum list is [0,3], default value is 0","enum":[0,3],"enumVarNames":["抠图结果尺寸","原图尺寸"],"input":{},"name":"only_mask","required":false,"title":"产物尺寸","type":"integer"},{"defaultValue":0,"description":"输出图模式，可选透明背景图/蒙版矢量图, enum list is [0,1], default value is 0","enum":[0,1],"enumVarNames":["透明背景图","蒙版矢量图"],"input":{},"name":"output_mode","required":false,"title":"输出图模式","type":"integer"},{"description":"自定义抠图内容的提示词，不填时默认保留主体抠图","input":{},"name":"prompt","required":false,"title":"提示词","type":"string"},{"assistType":2,"description":"待抠图的图片","input":{},"name":"url","required":true,"title":"上传图","type":"image"}],"outputs":[{"assistType":2,"description":"透明背景图，在输出模式为透明背景时生效","input":{},"name":"data","required":false,"type":"image"},{"description":"抠图区域蒙板矢量图，在输出模式为蒙版矢量图时生效","input":{},"name":"mask","required":false,"type":"string"},{"input":{},"name":"msg","required":false,"type":"string"}],"updateTime":1763346421,"channel_id":2,"commercial_setting":{"business_type":1,"commercial_type":1},"latestVersionTs":"0","latestVersionName":"","versionName":"","description":"","title":"cutout","mainColor":"#CA61FF"}}},{"id":"119305","type":"4","meta":{"position":{"x":1720,"y":-643.9312419061188}},"data":{"nodeMeta":{"title":"cutout_host","icon":"https://lf3-static.bytednsdoc.com/obj/eden-cn/dvsmryvd_avi_dvsm/ljhwZthlaukjlkulzlp/icon/icon-plugin-cutout-v2.jpg","subtitle":"抠图:cutout","description":"保留图片前景主体，输出透明背景(.png)"},"inputs":{"apiParam":[{"name":"apiID","input":{"type":"string","value":{"type":"literal","content":"7438919188246429731","rawMeta":{"type":1}}}},{"name":"apiName","input":{"type":"string","value":{"type":"literal","content":"cutout","rawMeta":{"type":1}}}},{"name":"pluginID","input":{"type":"string","value":{"type":"literal","content":"7438919188246413347","rawMeta":{"type":1}}}},{"name":"pluginName","input":{"type":"string","value":{"type":"literal","content":"抠图","rawMeta":{"type":1}}}},{"name":"pluginVersion","input":{"type":"string","value":{"type":"literal","content":"","rawMeta":{"type":1}}}},{"name":"tips","input":{"type":"string","value":{"type":"literal","content":"","rawMeta":{"type":1}}}},{"name":"outDocLink","input":{"type":"string","value":{"type":"literal","content":"","rawMeta":{"type":1}}}}],"inputParameters":[{"name":"url","input":{"type":"string","assistType":2,"value":{"type":"ref","content":{"source":"block-output","blockID":"1141927","name":"data"},"rawMeta":{"type":7}}}},{"name":"only_mask","input":{"type":"string","value":{"type":"literal","content":"3"}}},{"name":"output_mode","input":{"type":"string","value":{"type":"literal","content":"0"}}}],"settingOnError":{"processType":1,"timeoutMs":180000,"retryTimes":0}},"outputs":[{"type":"string","assistType":2,"name":"data","required":false,"description":"透明背景图，在输出模式为透明背景时生效"},{"type":"string","name":"mask","required":false,"description":"抠图区域蒙板矢量图，在输出模式为蒙版矢量图时生效"},{"type":"string","name":"msg","required":false}]},"_temp":{"bounds":{"x":1540,"y":-643.9312419061188,"width":360,"height":136},"externalData":{"icon":"https://lf26-appstore-sign.oceancloudapi.com/ocean-cloud-tos/plugin_icon/1682717607724762_1737442217436398717_QfrWIv9q70.jpg?lk3s=cd508e2b&x-expires=1765951531&x-signature=0qrgsE4ivaIbPjYC7y11GeJUE10%3D","apiName":"cutout","pluginID":"7438919188246413347","pluginProductStatus":1,"pluginProductUnlistType":0,"pluginType":1,"spaceID":"7352795533666664448","inputs":[{"defaultValue":0,"description":"输出图模式，可选透明背景图/蒙版矢量图, enum list is [0,1], default value is 0","enum":[0,1],"enumVarNames":["透明背景图","蒙版矢量图"],"input":{},"name":"output_mode","required":false,"title":"输出图模式","type":"integer"},{"description":"自定义抠图内容的提示词，不填时默认保留主体抠图","input":{},"name":"prompt","required":false,"title":"提示词","type":"string"},{"assistType":2,"description":"待抠图的图片","input":{},"name":"url","required":true,"title":"上传图","type":"image"},{"defaultValue":0,"description":"结果图尺寸，支持返回抠图结果尺寸(去除透明长宽)和原图尺寸, enum list is [0,3], default value is 0","enum":[0,3],"enumVarNames":["抠图结果尺寸","原图尺寸"],"input":{},"name":"only_mask","required":false,"title":"产物尺寸","type":"integer"}],"outputs":[{"assistType":2,"description":"透明背景图，在输出模式为透明背景时生效","input":{},"name":"data","required":false,"type":"image"},{"description":"抠图区域蒙板矢量图，在输出模式为蒙版矢量图时生效","input":{},"name":"mask","required":false,"type":"string"},{"input":{},"name":"msg","required":false,"type":"string"}],"updateTime":1763346421,"channel_id":2,"commercial_setting":{"business_type":1,"commercial_type":1},"latestVersionTs":"0","latestVersionName":"","versionName":"","description":"","title":"cutout","mainColor":"#CA61FF"}}}],"edges":[{"sourceNodeID":"100001","targetNodeID":"169983"},{"sourceNodeID":"169807","targetNodeID":"900001"},{"sourceNodeID":"169983","targetNodeID":"121555"},{"sourceNodeID":"169983","targetNodeID":"1313298"},{"sourceNodeID":"169983","targetNodeID":"1832504"},{"sourceNodeID":"169983","targetNodeID":"131139"},{"sourceNodeID":"169983","targetNodeID":"1141927"},{"sourceNodeID":"169983","targetNodeID":"1202324"},{"sourceNodeID":"131139","targetNodeID":"1565313"},{"sourceNodeID":"121555","targetNodeID":"1565313","sourcePortID":"batch-output"},{"sourceNodeID":"1313298","targetNodeID":"1577380"},{"sourceNodeID":"1577380","targetNodeID":"1565313"},{"sourceNodeID":"1832504","targetNodeID":"1114413"},{"sourceNodeID":"1114413","targetNodeID":"1565313"},{"sourceNodeID":"172289","targetNodeID":"1565313"},{"sourceNodeID":"119305","targetNodeID":"1565313"},{"sourceNodeID":"1565313","targetNodeID":"107619"},{"sourceNodeID":"107619","targetNodeID":"106125"},{"sourceNodeID":"106125","targetNodeID":"164177"},{"sourceNodeID":"164177","targetNodeID":"1824190"},{"sourceNodeID":"1824190","targetNodeID":"175385"},{"sourceNodeID":"175385","targetNodeID":"127991"},{"sourceNodeID":"127991","targetNodeID":"169807"},{"sourceNodeID":"1141927","targetNodeID":"119305"},{"sourceNodeID":"1202324","targetNodeID":"172289"}]},"bounds":{"x":-180,"y":-901.7226125021552,"width":3524.356743029941,"height":1789.7236893512013}}